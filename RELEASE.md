# ğŸ“¦ ç‰ˆæœ¬å‘å¸ƒæŒ‡å—

## ğŸ”¢ ç‰ˆæœ¬å·è§„åˆ™

æœ¬é¡¹ç›®é‡‡ç”¨ [è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶ (SemVer)](https://semver.org/lang/zh-CN/) è§„èŒƒï¼š

### ç‰ˆæœ¬æ ¼å¼ï¼š`MAJOR.MINOR.PATCH`

* **MAJOR (ä¸»ç‰ˆæœ¬å·)**: ä¸å…¼å®¹çš„ API ä¿®æ”¹
  * é‡å¤§æ¶æ„è°ƒæ•´
  * åˆ é™¤æˆ–å¤§å¹…ä¿®æ”¹ç°æœ‰åŠŸèƒ½
  * ä¸å‘åå…¼å®¹çš„æ›´æ”¹
* **MINOR (æ¬¡ç‰ˆæœ¬å·)**: å‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢
  * æ–°å¢åŠŸèƒ½ç‰¹æ€§
  * æ€§èƒ½ä¼˜åŒ–
  * UI/UX æ”¹è¿›
  * å‘ä¸‹å…¼å®¹çš„ API æ–°å¢
* **PATCH (ä¿®è®¢å·)**: å‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£
  * Bug ä¿®å¤
  * å®‰å…¨æ€§ä¿®è¡¥
  * å°çš„ä¼˜åŒ–è°ƒæ•´
  * æ–‡æ¡£æ›´æ–°

## ğŸš€ å‘å¸ƒæµç¨‹

### 1. å‡†å¤‡å‘å¸ƒ

```bash
# ç¡®ä¿ä»£ç å·²æäº¤å¹¶æ¨é€
git add .
git commit -m "feat: æ–°åŠŸèƒ½æè¿°"
git push origin main

# è¿è¡Œæ£€æŸ¥ï¼ˆå¯é€‰ï¼‰
npm run prepare-release
```

### 2. ç‰ˆæœ¬å‘å¸ƒ

æ ¹æ®æ›´æ”¹ç±»å‹é€‰æ‹©å¯¹åº”çš„å‘å¸ƒå‘½ä»¤ï¼š

```bash
# è¡¥ä¸ç‰ˆæœ¬ (1.0.0 -> 1.0.1)
npm run release:patch

# æ¬¡ç‰ˆæœ¬ (1.0.0 -> 1.1.0) 
npm run release:minor

# ä¸»ç‰ˆæœ¬ (1.0.0 -> 2.0.0)
npm run release:major
```

### 3. è‡ªåŠ¨åŒ–å¤„ç†

å‘å¸ƒè„šæœ¬ä¼šè‡ªåŠ¨å®Œæˆä»¥ä¸‹æ“ä½œï¼š

1. âœ… æ›´æ–° `package.json` ä¸­çš„ç‰ˆæœ¬å·
2. âœ… ç”Ÿæˆç‰ˆæœ¬ä¿¡æ¯æ–‡ä»¶ (`public/version.json`)
3. âœ… æäº¤ç‰ˆæœ¬æ›´æ”¹åˆ° Git
4. âœ… åˆ›å»ºç‰ˆæœ¬æ ‡ç­¾
5. âœ… æ¨é€ä»£ç å’Œæ ‡ç­¾åˆ° GitHub
6. âœ… è§¦å‘ GitHub Actions å·¥ä½œæµ
7. âœ… è‡ªåŠ¨åˆ›å»º GitHub Release
8. âœ… éƒ¨ç½²åˆ° GitHub Pages

## ğŸ“‹ æäº¤ä¿¡æ¯è§„èŒƒ

å»ºè®®ä½¿ç”¨ [çº¦å®šå¼æäº¤](https://www.conventionalcommits.org/zh-hans/) æ ¼å¼ï¼š

```
<ç±»å‹>[å¯é€‰ èŒƒå›´]: <æè¿°>

[å¯é€‰ æ­£æ–‡]

[å¯é€‰ è„šæ³¨]
```

### å¸¸ç”¨ç±»å‹ï¼š

* `feat`: æ–°åŠŸèƒ½
* `fix`: ä¿®å¤é—®é¢˜
* `docs`: æ–‡æ¡£æ›´æ”¹
* `style`: ä»£ç æ ¼å¼åŒ–
* `refactor`: é‡æ„ä»£ç 
* `perf`: æ€§èƒ½ä¼˜åŒ–
* `test`: æ·»åŠ æµ‹è¯•
* `chore`: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

### ç¤ºä¾‹ï¼š

```bash
git commit -m "feat: æ·»åŠ ä»»åŠ¡ä¼˜å…ˆçº§åŠŸèƒ½"
git commit -m "fix: ä¿®å¤ä»»åŠ¡åˆ é™¤æ—¶çš„å†…å­˜æ³„æ¼"
git commit -m "docs: æ›´æ–° README å®‰è£…è¯´æ˜"
```

## ğŸ”§ æ‰‹åŠ¨å‘å¸ƒ

å¦‚æœéœ€è¦æ‰‹åŠ¨æ§åˆ¶å‘å¸ƒè¿‡ç¨‹ï¼š

```bash
# 1. æ›´æ–°ç‰ˆæœ¬å·ï¼ˆä¸åˆ›å»ºæ ‡ç­¾ï¼‰
npm version patch --no-git-tag-version

# 2. æ„å»ºé¡¹ç›®
npm run build

# 3. æ‰‹åŠ¨æäº¤å’Œæ ‡ç­¾
git add .
git commit -m "chore: release v$(node -p require('./package.json').version)"
git tag v$(node -p "require('./package.json').version")

# 4. æ¨é€
git push origin main --tags
```

## ğŸ“Š ç‰ˆæœ¬æ£€æŸ¥

åº”ç”¨å†…ç½®äº†ç‰ˆæœ¬æ£€æŸ¥åŠŸèƒ½ï¼š

* âœ… è‡ªåŠ¨æ£€æµ‹æ–°ç‰ˆæœ¬
* âœ… æç¤ºç”¨æˆ·æ›´æ–°
* âœ… æ˜¾ç¤ºå½“å‰ç‰ˆæœ¬ä¿¡æ¯
* âœ… æ”¯æŒçƒ­æ›´æ–°

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å‘å¸ƒå¤±è´¥çš„å¸¸è§åŸå› ï¼š

1. **å·¥ä½œç›®å½•ä¸å¹²å‡€**
   ```bash
   git status
   git add .
   git commit -m "æäº¤æè¿°"
   ```
2. **æ²¡æœ‰æ¨é€æƒé™**
   ```bash
   git remote -v
   # ç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„ä»“åº“åœ°å€å’Œæƒé™
   ```
3. **æ ‡ç­¾å·²å­˜åœ¨**
   ```bash
   git tag -d v1.0.0  # åˆ é™¤æœ¬åœ°æ ‡ç­¾
   git push origin :refs/tags/v1.0.0  # åˆ é™¤è¿œç¨‹æ ‡ç­¾
   ```
4. **GitHub CLI æœªå®‰è£…**
   * è‡ªåŠ¨åˆ›å»º Release éœ€è¦ [GitHub CLI](https://cli.github.com/)
   * æˆ–æ‰‹åŠ¨åœ¨ GitHub ç½‘ç«™åˆ›å»º Release

## ğŸ“ˆ ç‰ˆæœ¬å†å²

æŸ¥çœ‹ç‰ˆæœ¬å†å²ï¼š

```bash
# æŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾
git tag -l

# æŸ¥çœ‹æ ‡ç­¾è¯¦æƒ…
git show v1.0.0

# æŸ¥çœ‹ä¸¤ä¸ªç‰ˆæœ¬é—´çš„å˜æ›´
git log v1.0.0..v1.1.0 --oneline
```

## ğŸ¯ æœ€ä½³å®è·µ

1. **å®šæœŸå‘å¸ƒ**: å»ºè®®æ¯ 1-2 å‘¨å‘å¸ƒä¸€æ¬¡å°ç‰ˆæœ¬
2. **æµ‹è¯•å……åˆ†**: å‘å¸ƒå‰ç¡®ä¿åŠŸèƒ½æµ‹è¯•é€šè¿‡
3. **æ–‡æ¡£åŒæ­¥**: é‡å¤§æ›´æ”¹åŠæ—¶æ›´æ–°æ–‡æ¡£
4. **å‘åå…¼å®¹**: éå¿…è¦ä¸è¦ç ´åå‘åå…¼å®¹æ€§
5. **å®‰å…¨ä¼˜å…ˆ**: å®‰å…¨é—®é¢˜åº”ç«‹å³å‘å¸ƒä¿®å¤ç‰ˆæœ¬
