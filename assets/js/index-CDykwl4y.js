import{r as e,j as t,M as n,a as o,b as s,c as i,d as r}from"./vendor-Cz1k-HHZ.js";import{S as a,O as l,C as c,u as d,A as m,D as p,F as u,a as h,b as g,c as x,d as b,P as v,e as j,f,g as N}from"./components-CX1ry1D3.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const y="1.0",w=e=>{try{const t={version:y,timestamp:Date.now(),todos:e};localStorage.setItem(a,JSON.stringify(t))}catch(t){}},C=()=>{try{let e=localStorage.getItem(a),t=!1;if(!e){const n=localStorage.getItem(l);n&&(e=n,t=!0)}if(!e)return[];const n=JSON.parse(e);if(n.version!==y)return[];if(Array.isArray(n.todos)){const e=n.todos.map(e=>({...e,id:e.id||Date.now()+Math.random(),content:e.content||"",isCompleted:Boolean(e.isCompleted),isEditing:Boolean(e.isEditing),createdAt:e.createdAt||(new Date).toISOString()}));if(t){const t={version:y,timestamp:Date.now(),todos:e};localStorage.setItem(a,JSON.stringify(t)),localStorage.removeItem(l)}return e}return[]}catch(e){return[]}},S=()=>{try{localStorage.removeItem(a),localStorage.removeItem(l)}catch(e){}},k=e=>{try{const t={appName:"React Todo App",version:y,exportDate:(new Date).toISOString(),totalItems:e.length,todos:e},n=JSON.stringify(t,null,2),o=new Blob([n],{type:"application/json"}),s=URL.createObjectURL(o),i=document.createElement("a");return i.href=s,i.download=`todos-export-${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(s),!0}catch(t){return!1}},E=e=>new Promise((t,n)=>{try{const o=new FileReader;o.onload=e=>{try{const o=JSON.parse(e.target.result);if(!o.todos||!Array.isArray(o.todos))return void n({error:"文件格式不正确",details:"导入的文件必须包含有效的 todos 数组。请确保选择的是从本应用导出的 JSON 文件。"});const s=o.todos.map(e=>({id:e.id||Date.now()+Math.random(),content:String(e.content||"").trim(),isCompleted:Boolean(e.isCompleted),isEditing:!1,createdAt:e.createdAt||(new Date).toISOString()})).filter(e=>e.content);if(0===s.length)return void n({error:"文件中没有有效的待办事项",details:"导入的文件中没有找到有效的待办事项数据。请检查文件内容是否正确。"});t(s)}catch{n({error:"文件格式错误",details:"无法解析选择的文件。请确保选择的是有效的 JSON 格式文件。"})}},o.onerror=()=>{n({error:"文件读取失败",details:"无法读取选择的文件。请检查文件是否损坏或重新选择文件。"})},o.readAsText(e)}catch{n({error:"文件处理失败",details:"处理文件时发生错误。请重新选择文件并重试。"})}}),T=200,I=1,O="输入待办事项...",_={ADD:"添加",EDIT:"完成"},A=e=>{if(!e||"string"!=typeof e)return{isValid:!1,error:"内容不能为空"};const t=e.trim();return t.length<I?{isValid:!1,error:"内容不能为空"}:t.length>T?{isValid:!1,error:`内容不能超过${T}个字符`}:{isValid:!0,error:null}};function B({addTodo:n,placeholder:o=O,disabled:s=!1}){const[i,r]=e.useState(""),[a,l]=e.useState("");return t.jsxs("form",{className:"create-form",onSubmit:e=>{e.preventDefault();const t=A(i);t.isValid?(n(i),r(""),l("")):l(t.error)},children:[t.jsxs("div",{className:"input-group",children:[t.jsx("input",{type:"text",placeholder:o,value:i,onChange:e=>{const t=e.target.value;r(t),a&&t.trim()&&l("")},disabled:s,maxLength:T,className:a?"input-error":""}),t.jsx("button",{type:"submit",disabled:s||!i.trim(),children:_.ADD})]}),a&&t.jsx("div",{className:"error-message",children:a})]})}function L({todo:n,editTodo:o,onCancel:s}){const[i,r]=e.useState(n.content),[a,l]=e.useState(""),c=e.useRef(null);e.useEffect(()=>{c.current&&(c.current.focus(),c.current.select())},[]);const d=()=>{s&&s()};return t.jsxs("form",{className:"edit-form",onSubmit:e=>{e.preventDefault();const t=A(i);t.isValid?o(n.id,i):l(t.error)},children:[t.jsxs("div",{className:"input-group",children:[t.jsx("input",{ref:c,type:"text",value:i,onChange:e=>{const t=e.target.value;r(t),a&&t.trim()&&l("")},onKeyDown:e=>{"Escape"===e.key&&d()},maxLength:T,className:a?"input-error":""}),t.jsx("button",{type:"submit",disabled:!i.trim(),children:_.EDIT}),t.jsx("button",{type:"button",onClick:d,children:"取消"})]}),a&&t.jsx("div",{className:"error-message",children:a})]})}function D({todo:r,deleteTodo:a,editTodo:l,toggleCompletion:d,toggleEditing:m}){const[p,u]=e.useState(!1),h=()=>{d(r.id)},g=()=>{m(r.id)};return r.isEditing?t.jsx(L,{todo:r,editTodo:l,onCancel:g}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"todo "+(r.isCompleted?"completed":""),children:[t.jsxs("div",{className:"todo-content",children:[t.jsx("button",{className:"completion-btn "+(r.isCompleted?"completed":""),onClick:h,title:r.isCompleted?"标记为未完成":"标记为完成",children:r.isCompleted?t.jsx(n,{}):t.jsx(o,{})}),t.jsx("span",{className:"todo-text",onClick:h,title:"点击切换完成状态",children:r.content})]}),t.jsxs("div",{className:"todo-actions",children:[t.jsx("button",{className:"action-btn edit-btn",onClick:()=>{r.isCompleted||m(r.id)},disabled:r.isCompleted,title:r.isCompleted?"已完成的项目无法编辑":"编辑",children:t.jsx(s,{})}),t.jsx("button",{className:"action-btn delete-btn",onClick:()=>{u(!0)},title:"删除",children:t.jsx(i,{})})]})]}),t.jsx(c,{isOpen:p,title:"确认删除",message:`确定要删除待办事项"${r.content}"吗？`,confirmText:"删除",cancelText:"取消",onConfirm:()=>{a(r.id),u(!1)},onCancel:()=>{u(!1)},type:"danger"})]})}function M({todos:e,deleteTodo:n,editTodo:o,toggleCompletion:s,toggleEditing:i,filter:r="all"}){const a=(()=>{switch(r){case"pending":return e.filter(e=>!e.isCompleted);case"completed":return e.filter(e=>e.isCompleted);default:return e}})();if(0===a.length){const e={all:"暂无待办事项，添加一个开始吧！",pending:"太棒了！没有待完成的事项",completed:"还没有完成任何待办事项"};return t.jsx("div",{className:"empty-state",children:t.jsx("p",{children:e[r]})})}return t.jsx("div",{className:"todo-list-container",children:t.jsx("div",{className:"todo-list",children:a.map(e=>t.jsx(D,{todo:e,deleteTodo:n,editTodo:o,toggleCompletion:s,toggleEditing:i},e.id))})})}function F({stats:e,onClearCompleted:n,onToggleAll:o}){const{total:s,completed:i,pending:r}=e;return 0===s?null:t.jsxs("div",{className:"todo-stats",children:[t.jsxs("div",{className:"stats-info",children:[t.jsxs("span",{className:"stats-item",children:["总计: ",t.jsx("strong",{children:s})]}),t.jsxs("span",{className:"stats-item",children:["已完成: ",t.jsx("strong",{children:i})]}),t.jsxs("span",{className:"stats-item",children:["待完成: ",t.jsx("strong",{children:r})]})]}),t.jsxs("div",{className:"stats-actions",children:[s>0&&t.jsx("button",{className:"btn-toggle-all",onClick:o,title:i===s?"全部标记为未完成":"全部标记为完成",children:i===s?"全部未完成":"全部完成"}),i>0&&t.jsxs("button",{className:"btn-clear-completed",onClick:n,title:"清除所有已完成的待办事项",children:["清除已完成 (",i,")"]})]})]})}function U({currentFilter:e,onFilterChange:n,stats:o}){const s=[{key:"all",label:"全部",count:o.total},{key:"pending",label:"待完成",count:o.pending},{key:"completed",label:"已完成",count:o.completed}];return t.jsx("div",{className:"todo-filter",children:s.map(o=>t.jsxs("button",{className:"filter-btn "+(e===o.key?"active":""),onClick:()=>n(o.key),children:[t.jsx("span",{className:"filter-label",children:o.label}),o.count>0&&t.jsx("span",{className:"count "+(o.count>=100?"large-number":""),children:o.count>=1e4?"9999+":o.count})]},o.key))})}function z(){const{actualTheme:e,toggleTheme:n}=d();return t.jsx("button",{className:"theme-toggle",onClick:n,title:`切换到${"light"===e?"深色":"浅色"}主题`,children:t.jsx("span",{className:"theme-toggle-icon",children:"light"===e?"🌙":"☀️"})})}function W({title:n="待办事项",showStats:o=!0,showFilter:s=!0,showDataManager:i=!0,showDonate:r=!0}){const{todos:a,stats:l,actions:c}=(()=>{const[t,n]=e.useState(()=>C());e.useEffect(()=>{w(t)},[t]);const o=e.useCallback(()=>Date.now()+Math.random(),[]),s=e.useCallback(e=>{if(!e.trim())return;const t={id:o(),content:e.trim(),isCompleted:!1,isEditing:!1,createdAt:(new Date).toISOString()};n(e=>[...e,t])},[o]),i=e.useCallback(e=>{n(t=>t.filter(t=>t.id!==e))},[]),r=e.useCallback((e,t)=>{t.trim()&&n(n=>n.map(n=>n.id===e?{...n,content:t.trim(),isEditing:!1}:n))},[]),a=e.useCallback(e=>{n(t=>t.map(t=>t.id===e?{...t,isCompleted:!t.isCompleted}:t))},[]),l=e.useCallback(e=>{n(t=>t.map(t=>t.id===e?{...t,isEditing:!t.isEditing}:t))},[]),c=e.useCallback(()=>{n(e=>e.filter(e=>!e.isCompleted))},[]),d=e.useCallback(()=>{const e=t.every(e=>e.isCompleted);n(t=>t.map(t=>({...t,isCompleted:!e})))},[t]),m=e.useCallback(()=>k(t),[t]),p=e.useCallback(async(e,t="replace")=>{try{let s;if(e instanceof File)try{s=await E(e)}catch(o){return{success:!1,error:o.error||"导入失败",details:o.details||"文件处理时发生错误，请重试。"}}else{if(!e.todos||!Array.isArray(e.todos))return{success:!1,error:"文件格式不正确",details:"导入的文件必须包含有效的 todos 数组。请确保选择的是从本应用导出的 JSON 文件。"};const t=e.todos.filter(e=>e&&"object"==typeof e&&(e.content||"").toString().trim());if(0===t.length)return{success:!1,error:"文件中没有有效的待办事项",details:"导入的文件中没有找到有效的待办事项数据。请检查文件内容是否正确。"};s=t.map(e=>({id:e.id||Date.now()+Math.random(),content:String(e.content||"").trim(),isCompleted:Boolean(e.isCompleted),isEditing:!1,createdAt:e.createdAt||(new Date).toISOString()}))}return n("merge"===t?e=>{const t=new Set(e.map(e=>e.id)),n=s.filter(e=>!t.has(e.id));return[...e,...n]}:s),{success:!0,count:s.length}}catch{return{success:!1,error:"文件解析失败",details:"无法解析选择的文件。请确保选择的是有效的 JSON 格式文件。"}}},[]),u=e.useCallback(()=>{n([]),S()},[]),h={total:t.length,completed:t.filter(e=>e.isCompleted).length,pending:t.filter(e=>!e.isCompleted).length};return{todos:t,stats:h,actions:{addTodo:s,deleteTodo:i,editTodo:r,toggleCompletion:a,toggleEditing:l,clearCompleted:c,toggleAllCompletion:d,exportTodos:m,importTodos:p,clearAllData:u}}})(),[d,h]=e.useState("all"),[g,x]=e.useState(!1),[b,v]=e.useState(!1),[j,f]=e.useState(!1);e.useEffect(()=>{const e=e=>{if("Escape"===e.key&&(g&&x(!1),b&&v(!1),j)){f(!1);const e=new URL(window.location);e.searchParams.delete("admin"),window.history.replaceState({},"",e)}};"feedback"===new URLSearchParams(window.location.search).get("admin")&&f(!0);const t=()=>{const e=new URLSearchParams(window.location.search);f("feedback"===e.get("admin"))};return document.addEventListener("keydown",e),window.addEventListener("popstate",t),()=>{document.removeEventListener("keydown",e),window.removeEventListener("popstate",t)}},[g,b,j]),e.useEffect(()=>{let e=null;const t=()=>{const e=document.querySelector(".header-content h1");if(!e)return;const t=document.querySelector(".header-content .tooltip");if(!t)return;e.style.fontSize="",e.offsetHeight;const o=t.getBoundingClientRect().width,s=n;let i=parseFloat(window.getComputedStyle(e).fontSize);const r=window.innerWidth<=360?18:window.innerWidth<=480?20:window.innerWidth<=768?24:28,a=document.createElement("span");for(a.style.visibility="hidden",a.style.position="absolute",a.style.whiteSpace="nowrap",a.style.fontFamily=window.getComputedStyle(e).fontFamily,a.style.fontWeight=window.getComputedStyle(e).fontWeight,a.textContent=s,document.body.appendChild(a);i>r;){a.style.fontSize=i+"px";const e=0;if(a.offsetWidth<=o-e)break;i-=2}document.body.removeChild(a);i<parseFloat(window.getComputedStyle(e).fontSize)&&(e.style.fontSize=i+"px")},o=()=>{const e=document.querySelector(".header-content .tooltip"),t=document.querySelector(".header-content .tooltip .tooltip-text");if(!e||!t)return;let o=null;const s=t=>{if(!e.contains(t.target)){const e=document.getElementById("global-title-tooltip");e&&(e.style.visibility="hidden",e.style.opacity="0"),o&&clearTimeout(o)}},i=window.innerWidth,r="ontouchstart"in window||navigator.maxTouchPoints>0,a=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);if(!(i<=768&&(a||r&&i<=480)))return null;{const e=document.querySelector(".header-content .tooltip h1");if(e){const t=e=>{e.stopPropagation(),(e=>{e.preventDefault(),e.stopPropagation();let t=document.getElementById("global-title-tooltip");t?t.textContent=n:(t=document.createElement("div"),t.id="global-title-tooltip",t.className="global-tooltip",t.textContent=n,document.body.appendChild(t));const s=document.querySelector(".header-content h1").getBoundingClientRect(),i=window.innerWidth;let r,a,l;i<=360?(r=s.bottom+6,l="12px"):i<=480?(r=s.bottom+8,l="13px"):i<=768?(r=s.bottom+10,l="14px"):(r=s.bottom+12,l="16px"),a=s.left+s.width/2;const c="dark"===document.documentElement.getAttribute("data-theme");Object.assign(t.style,{position:"fixed",top:r+"px",left:a+"px",transform:"translateX(-50%)",backgroundColor:c?"rgba(35, 35, 35, 0.95)":"rgba(0, 0, 0, 0.9)",color:c?"#fff":"white",padding:i<=480?"8px 12px":"12px 16px",borderRadius:"8px",fontSize:l,fontWeight:"600",zIndex:"999999",pointerEvents:"none",maxWidth:i<=480?"75vw":"85vw",textAlign:"center",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",backdropFilter:"blur(10px)",border:c?"1px solid rgba(255, 255, 255, 0.1)":"none",visibility:"visible",opacity:"1",transition:"all 0.3s ease"}),o&&clearTimeout(o),o=setTimeout(()=>{t&&(t.style.visibility="hidden",t.style.opacity="0")},3e3)})(e)};return e.addEventListener("touchstart",t,{passive:!1}),e.addEventListener("click",t),document.addEventListener("click",s),()=>{e.removeEventListener("touchstart",t),e.removeEventListener("click",t),document.removeEventListener("click",s),o&&clearTimeout(o);const n=document.getElementById("global-title-tooltip");n&&n.remove()}}}},s=setTimeout(()=>{t(),e=o()},100);let i;const r=()=>{clearTimeout(i),i=setTimeout(()=>{t(),e&&e(),e=o()},150)};return window.addEventListener("resize",r),()=>{clearTimeout(s),clearTimeout(i),window.removeEventListener("resize",r),e&&e()}},[n]);const{addTodo:N,deleteTodo:y,editTodo:T,toggleCompletion:I,toggleEditing:O,clearCompleted:_,toggleAllCompletion:A,exportTodos:L,importTodos:D,clearAllData:W}=c;return t.jsxs("div",{className:"todo-app-container",children:[t.jsxs("div",{className:"todo-wrapper",children:[t.jsxs("header",{className:"todo-header",children:[t.jsxs("div",{className:"header-content",children:[r&&t.jsx("button",{className:"donate-toggle",onClick:()=>v(!0),title:"支持开发",children:"💝"}),t.jsxs("div",{className:"tooltip",tabIndex:"0",children:[t.jsx("h1",{title:n,children:n}),t.jsx("span",{className:"tooltip-text",children:n})]}),t.jsxs("div",{className:"header-actions",children:[t.jsx(z,{}),i&&t.jsx("button",{className:"app-settings-toggle",onClick:()=>x(!0),title:"应用设置",children:"⚙️"})]})]}),o&&t.jsx(F,{stats:l,onClearCompleted:_,onToggleAll:A})]}),t.jsxs("main",{className:"todo-main",children:[t.jsx(B,{addTodo:N}),s&&a.length>0&&t.jsx(U,{currentFilter:d,onFilterChange:h,stats:l}),t.jsx("div",{className:"todo-content",children:t.jsx(M,{todos:a,deleteTodo:y,editTodo:T,toggleCompletion:I,toggleEditing:O,filter:d})})]})]}),i&&t.jsxs(t.Fragment,{children:[g&&t.jsx("div",{className:"data-manager-overlay",onClick:()=>x(!1)}),t.jsxs("div",{className:"app-settings-sidebar "+(g?"open":""),children:[t.jsxs("div",{className:"sidebar-header",children:[t.jsxs("h3",{children:[t.jsx("span",{className:"header-icon",children:"⚙️"}),"应用设置"]}),t.jsx("button",{className:"close-btn",onClick:()=>x(!1),title:"关闭",children:t.jsx("span",{className:"close-btn-icon",children:"✕"})})]}),t.jsx("div",{className:"sidebar-content",children:t.jsx(m,{onExport:L,onImport:D,onClearAll:W,totalItems:l.total})})]})]}),t.jsx(p,{isOpen:b,onClose:()=>v(!1)}),j&&t.jsx(u,{isOpen:j,onClose:()=>f(!1)})]})}function R(){try{return function(){try{if("undefined"==typeof localStorage||!localStorage)return 0;let e=0;return["app_update_available","app_update_applied","app_etag","app_last_modified"].forEach(t=>{try{null!==localStorage.getItem(t)&&(localStorage.removeItem(t),e++)}catch(n){}}),e}catch(e){return 0}}()}catch(e){return 0}}function P(){const[t,n]=e.useState(!1),[o,s]=e.useState(""),[i,r]=e.useState(""),[a,l]=e.useState(!1),c=e.useRef(null),d={checkInterval:3e5,versionEndpoint:"/react-todo-app/version.json",snoozeTime:36e5},m=e.useCallback(async(e=2e3)=>{l(!0);const t=Date.now();try{s({version:"1.4.5",buildHash:"1f0bde8aa25d",buildTime:"2025-08-05T09:39:30.663Z"}.version);const e=(()=>{try{const e=localStorage.getItem(x);return e?JSON.parse(e):null}catch{return null}})();if(!e){const e=await fetch(`${d.versionEndpoint}?t=${Date.now()}`,{method:"GET",headers:{"Cache-Control":"no-cache",Pragma:"no-cache"},cache:"no-store"});if(!e.ok)throw new Error(`HTTP ${e.status}: ${e.statusText}`);const t=await e.json();return r(t.version),n(!0),!0}const t=await fetch(`${d.versionEndpoint}?t=${Date.now()}`,{method:"GET",headers:{"Cache-Control":"no-cache",Pragma:"no-cache"},cache:"no-store"});if(!t.ok)throw new Error(`HTTP ${t.status}: ${t.statusText}`);const o=await t.json();r(o.version);if(o.version!==e.version||o.buildHash!==e.buildHash||o.buildTime!==e.buildTime){if(localStorage.getItem(h)===o.version)return!1;const e=localStorage.getItem(g);if(e)try{const t=JSON.parse(e),n=Date.now()-t.snoozedAt;if(t.version===o.version&&n<d.snoozeTime){Math.ceil((d.snoozeTime-n)/6e4);return!1}t.version===o.version&&localStorage.removeItem(g)}catch{localStorage.removeItem(g)}return n(!0),!0}return!1}catch(o){return!1}finally{const n=Date.now()-t,o=Math.max(0,e-n);o>0?setTimeout(()=>{l(!1)},o):l(!1)}},[d.versionEndpoint,d.snoozeTime]),p=e.useCallback(()=>{c.current||(c.current=setInterval(m,d.checkInterval))},[m,d.checkInterval]),u=()=>{c.current&&(clearInterval(c.current),c.current=null)};return e.useEffect(()=>{R();s({version:"1.4.5",buildHash:"1f0bde8aa25d",buildTime:"2025-08-05T09:39:30.663Z"}.version),setTimeout(()=>{m(3e3)},1e3),p();const e=()=>{"visible"===document.visibilityState&&setTimeout(m,2e3)},t=()=>{setTimeout(m,1e3)};return document.addEventListener("visibilitychange",e),window.addEventListener("online",t),()=>{u(),document.removeEventListener("visibilitychange",e),window.removeEventListener("online",t)}},[m,p]),{hasUpdate:t,currentVersion:o,latestVersion:i,isChecking:a,checkForUpdate:m,applyUpdate:()=>{fetch(`${d.versionEndpoint}?t=${Date.now()}`).then(e=>e.json()).then(e=>{(e=>{try{localStorage.setItem(x,JSON.stringify(e))}catch(t){}})(e)}).catch(e=>{}),n(!1),localStorage.removeItem(h),localStorage.removeItem(g),setTimeout(()=>{window.location.reload(!0)},500)},snoozeUpdate:()=>{if(n(!1),i&&"最新版本"!==i&&i.trim()){const e={version:i,snoozedAt:Date.now()};localStorage.setItem(g,JSON.stringify(e))}},dismissUpdate:()=>{n(!1),i&&"最新版本"!==i&&i.trim()&&(localStorage.setItem(h,i),localStorage.removeItem(g))},startAutoCheck:p,stopAutoCheck:u}}function $(){const{hasUpdate:n,currentVersion:o,latestVersion:s,isChecking:i,applyUpdate:r,snoozeUpdate:a,checkForUpdate:l}=P(),[c,d]=e.useState(!1),[m,p]=e.useState(!1),[u,h]=e.useState(!1),[g,x]=e.useState(!1);e.useEffect(()=>{if(n&&!u){const e=setTimeout(()=>{d(!0)},1500);return()=>clearTimeout(e)}d(!1)},[n,u]),e.useEffect(()=>{if(c){const e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=e}}},[c]);return!n||u?null:t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"app-update-modal-overlay "+(c?"visible":""),onClick:e=>{e.stopPropagation()},children:t.jsxs("div",{className:"app-update-dialog "+(c?"visible":""),onClick:e=>{e.stopPropagation()},children:[t.jsxs("div",{className:"update-dialog-header",children:[t.jsx("div",{className:"update-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),t.jsx("path",{d:"M21 3v5h-5"}),t.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),t.jsx("path",{d:"M3 21v-5h5"})]})}),t.jsx("h2",{children:"发现新版本"})]}),t.jsxs("div",{className:"update-dialog-content",children:[t.jsx("p",{className:"update-message",children:"应用已发布新版本，包含功能优化、性能提升和重要修复。建议立即更新以获得更好的使用体验。"}),t.jsxs("div",{className:"version-comparison",style:{display:"none"},children:[t.jsxs("div",{className:"version-item current",children:[t.jsx("span",{className:"version-label",children:"当前版本"}),t.jsx("span",{className:"version-number",children:o})]}),t.jsxs("div",{className:"version-arrow",children:[t.jsxs("svg",{className:"arrow-right",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M5 12h14"}),t.jsx("path",{d:"M12 5l7 7-7 7"})]}),t.jsxs("svg",{className:"arrow-down",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M12 5v14"}),t.jsx("path",{d:"M5 12l7 7 7-7"})]})]}),t.jsxs("div",{className:"version-item latest",children:[t.jsx("span",{className:"version-label",children:"最新版本"}),t.jsx("span",{className:"version-number",children:s})]})]}),t.jsx("div",{className:"details-toggle",style:{display:"none"},children:t.jsxs("button",{className:"btn-toggle-details",onClick:()=>x(!0),children:[t.jsx("span",{children:"查看详情"}),t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"1"}),t.jsx("circle",{cx:"19",cy:"12",r:"1"}),t.jsx("circle",{cx:"5",cy:"12",r:"1"})]})]})}),t.jsx("div",{className:"reserved-space"})]}),m&&t.jsxs("div",{className:"update-progress",children:[t.jsx("div",{className:"progress-bar",children:t.jsx("div",{className:"progress-fill"})}),t.jsxs("div",{className:"progress-text",children:[t.jsx("span",{className:"loading-spinner"}),"正在更新应用，请稍候..."]})]}),t.jsxs("div",{className:"update-dialog-footer",children:[t.jsx("button",{className:"btn-cancel",onClick:()=>{p(!1),d(!1),h(!0),setTimeout(()=>{a()},300)},disabled:m,children:"稍后更新"}),t.jsx("button",{className:"btn-update-now",onClick:async()=>{p(!0),h(!0),d(!1),r()},disabled:m,children:m?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"loading-spinner"}),"更新中..."]}):t.jsxs(t.Fragment,{children:[t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{width:"16px",height:"16px"},children:[t.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),t.jsx("path",{d:"M21 3v5h-5"}),t.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),t.jsx("path",{d:"M3 21v-5h5"})]}),"立即更新"]})})]})]})}),i&&t.jsxs("div",{className:"checking-indicator",style:{display:"none"},children:[t.jsx("div",{className:"checking-spinner"}),t.jsx("span",{children:"检查更新中..."})]}),t.jsx("div",{className:"dev-controls",children:t.jsx("button",{className:"btn-dev-check "+(i?"checking":""),onClick:async()=>{await l()},disabled:i,title:"手动检查更新",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),t.jsx("path",{d:"M21 3v5h-5"})]})})}),g&&t.jsx("div",{className:"app-update-modal-overlay visible",onClick:()=>x(!1),children:t.jsxs("div",{className:"app-update-dialog visible update-details-dialog",onClick:e=>e.stopPropagation(),children:[t.jsxs("div",{className:"update-dialog-header",children:[t.jsx("div",{className:"update-icon details-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"9"}),t.jsx("path",{d:"M12 8v4"}),t.jsx("path",{d:"M12 16h.01"})]})}),t.jsx("h2",{children:"更新详情"})]}),t.jsx("div",{className:"update-dialog-content",children:t.jsxs("div",{className:"update-details-content",children:[t.jsx("h3",{children:"本次更新包含："}),t.jsxs("ul",{className:"update-features-list",children:[t.jsxs("li",{children:[t.jsx("span",{className:"feature-icon",children:"✨"}),t.jsxs("div",{className:"feature-content",children:[t.jsx("strong",{children:"新功能和界面优化"}),t.jsx("p",{children:"改进用户界面设计，提升操作体验"})]})]}),t.jsxs("li",{children:[t.jsx("span",{className:"feature-icon",children:"🐛"}),t.jsxs("div",{className:"feature-content",children:[t.jsx("strong",{children:"重要问题修复"}),t.jsx("p",{children:"修复已知bug，提高应用稳定性"})]})]}),t.jsxs("li",{children:[t.jsx("span",{className:"feature-icon",children:"⚡"}),t.jsxs("div",{className:"feature-content",children:[t.jsx("strong",{children:"性能和稳定性提升"}),t.jsx("p",{children:"优化代码逻辑，提升运行效率"})]})]}),t.jsxs("li",{children:[t.jsx("span",{className:"feature-icon",children:"🔒"}),t.jsxs("div",{className:"feature-content",children:[t.jsx("strong",{children:"安全性增强"}),t.jsx("p",{children:"强化数据保护和安全防护机制"})]})]})]}),t.jsxs("div",{className:"update-info-card",children:[t.jsx("h4",{children:"版本信息"}),t.jsxs("div",{className:"version-details",children:[t.jsxs("div",{className:"version-detail-item",children:[t.jsx("span",{className:"label",children:"当前版本："}),t.jsx("span",{className:"value",children:o})]}),t.jsxs("div",{className:"version-detail-item",children:[t.jsx("span",{className:"label",children:"最新版本："}),t.jsx("span",{className:"value",children:s})]}),t.jsxs("div",{className:"version-detail-item",children:[t.jsx("span",{className:"label",children:"发布时间："}),t.jsx("span",{className:"value",children:"2025年7月18日"})]})]})]}),t.jsxs("div",{className:"update-warning",children:[t.jsx("div",{className:"warning-icon",children:"⚠️"}),t.jsxs("div",{className:"warning-content",children:[t.jsx("strong",{children:"重要提示："}),t.jsx("p",{children:"更新过程需要刷新页面，请确保已保存重要数据。更新完成后，应用将自动重新加载。"})]})]})]})}),t.jsx("div",{className:"update-dialog-footer",children:t.jsx("button",{className:"btn-close-details",onClick:()=>x(!1),children:"关闭"})})]})})]})}function J(){const[n,o]=e.useState(!1),[s,i]=e.useState(!1),[r,a]=e.useState(!1);e.useEffect(()=>{if(!localStorage.getItem(b.COOKIE_CONSENT)){const e=setTimeout(()=>{o(!0),setTimeout(()=>i(!0),100)},2e3);return()=>clearTimeout(e)}},[]);const l=()=>{const e=[b.COOKIE_CONSENT,b.COOKIE_CONSENT_DATE,b.COOKIE_CONSENT_VERSION];Object.keys(localStorage).forEach(t=>{if(!e.includes(t))try{localStorage.removeItem(t)}catch(n){}})},c=()=>{i(!1),setTimeout(()=>o(!1),300)};return n?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"cookie-consent-overlay "+(s?"show":"")}),t.jsx("div",{className:"cookie-consent "+(s?"show":""),children:t.jsxs("div",{className:"cookie-consent-content",children:[t.jsxs("div",{className:"cookie-consent-header",children:[t.jsx("div",{className:"cookie-icon",children:"🍪"}),t.jsx("h3",{children:"Cookie 使用提示"})]}),t.jsxs("div",{className:"cookie-consent-message",children:[t.jsx("p",{children:"我们使用 Cookie 和本地存储来保存您的待办事项、主题偏好和应用设置， 以提供更好的用户体验。"}),t.jsx("p",{children:t.jsx("strong",{children:"我们收集的信息："})}),t.jsxs("ul",{children:[t.jsx("li",{children:"✅ 您的待办事项数据（仅存储在您的设备上）"}),t.jsx("li",{children:"✅ 主题和界面偏好设置"}),t.jsx("li",{children:"✅ 应用使用统计（匿名）"}),t.jsx("li",{children:"❌ 不收集个人身份信息"}),t.jsx("li",{children:"❌ 不与第三方分享数据"})]})]}),t.jsxs("div",{className:"cookie-consent-actions",children:[t.jsx("button",{className:"btn-decline",onClick:()=>{try{localStorage.setItem(b.COOKIE_CONSENT,j.DECLINED),localStorage.setItem(b.COOKIE_CONSENT_DATE,(new Date).toISOString()),l(),c()}catch(e){c()}},"aria-label":"拒绝使用 Cookie",children:"仅必要功能"}),t.jsx("button",{className:"btn-accept",onClick:()=>{try{localStorage.setItem(b.COOKIE_CONSENT,j.ACCEPTED),localStorage.setItem(b.COOKIE_CONSENT_DATE,(new Date).toISOString()),localStorage.setItem(b.COOKIE_CONSENT_VERSION,"1.0"),c()}catch(e){c()}},"aria-label":"同意使用 Cookie",children:"同意并继续"})]}),t.jsx("div",{className:"cookie-consent-footer",children:t.jsx("button",{className:"privacy-link",onClick:()=>{a(!0)},children:"查看隐私政策"})})]})}),t.jsx(v,{isOpen:r,onClose:()=>a(!1)})]}):null}function V(){const[n,o]=e.useState("suggestion"),[s,i]=e.useState("medium"),[r,a]=e.useState("ui"),l=[{value:"suggestion",label:"功能建议",icon:"💡"},{value:"bug",label:"Bug反馈",icon:"🐛"},{value:"improvement",label:"改进建议",icon:"⚡"},{value:"question",label:"问题咨询",icon:"❓"}],c=[{value:"low",label:"低优先级",icon:"🔵"},{value:"medium",label:"中优先级",icon:"🟡"},{value:"high",label:"高优先级",icon:"🟠"},{value:"urgent",label:"紧急",icon:"🔴"}],d=[{value:"ui",label:"界面设计",icon:"🎨"},{value:"performance",label:"性能优化",icon:"⚡"},{value:"feature",label:"新功能",icon:"✨"},{value:"accessibility",label:"无障碍",icon:"♿"},{value:"mobile",label:"移动端",icon:"📱"},{value:"desktop",label:"桌面端",icon:"💻"}];return t.jsx("div",{style:{padding:"40px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",minHeight:"100vh",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", sans-serif'},children:t.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto",background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",borderRadius:"24px",padding:"40px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)"},children:[t.jsx("h1",{style:{textAlign:"center",color:"white",marginBottom:"30px",fontSize:"2.5rem",fontWeight:"600"},children:"CustomSelect 组件演示"}),t.jsx("p",{style:{textAlign:"center",color:"rgba(255, 255, 255, 0.8)",marginBottom:"40px",fontSize:"1.1rem"},children:"展示美化后的自定义下拉选择器组件效果"}),t.jsxs("div",{style:{display:"grid",gap:"30px",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"12px",color:"white",fontSize:"1.1rem",fontWeight:"500"},children:"反馈类型"}),t.jsx(f,{id:"type-demo",value:n,onChange:e=>o(e.target.value),options:l})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"12px",color:"white",fontSize:"1.1rem",fontWeight:"500"},children:"优先级"}),t.jsx(f,{id:"priority-demo",value:s,onChange:e=>i(e.target.value),options:c})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"12px",color:"white",fontSize:"1.1rem",fontWeight:"500"},children:"分类"}),t.jsx(f,{id:"category-demo",value:r,onChange:e=>a(e.target.value),options:d})]})]}),t.jsxs("div",{style:{marginTop:"40px",padding:"24px",background:"rgba(255, 255, 255, 0.15)",borderRadius:"16px",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},children:[t.jsx("h3",{style:{color:"white",marginBottom:"20px",fontSize:"1.4rem",textAlign:"center"},children:"📊 当前选择状态"}),t.jsxs("div",{style:{display:"grid",gap:"15px",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",color:"rgba(255, 255, 255, 0.95)",lineHeight:"1.6",fontSize:"1rem"},children:[t.jsxs("div",{style:{padding:"15px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"12px",textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"1.8rem",marginBottom:"8px"},children:l.find(e=>e.value===n)?.icon}),t.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:"反馈类型"}),t.jsx("div",{style:{color:"rgba(255, 255, 255, 0.8)"},children:l.find(e=>e.value===n)?.label})]}),t.jsxs("div",{style:{padding:"15px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"12px",textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"1.8rem",marginBottom:"8px"},children:c.find(e=>e.value===s)?.icon}),t.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:"优先级"}),t.jsx("div",{style:{color:"rgba(255, 255, 255, 0.8)"},children:c.find(e=>e.value===s)?.label})]}),t.jsxs("div",{style:{padding:"15px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"12px",textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"1.8rem",marginBottom:"8px"},children:d.find(e=>e.value===r)?.icon}),t.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:"分类"}),t.jsx("div",{style:{color:"rgba(255, 255, 255, 0.8)"},children:d.find(e=>e.value===r)?.label})]})]}),t.jsx("div",{style:{marginTop:"20px",padding:"15px",background:"rgba(255, 255, 255, 0.08)",borderRadius:"12px",textAlign:"center",border:"1px solid rgba(255, 255, 255, 0.1)"},children:t.jsx("div",{style:{fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.7)"},children:"💡 试试点击上面的下拉框选择不同的选项，观察这里的实时变化！"})})]}),t.jsx("div",{style:{marginTop:"30px",textAlign:"center"},children:t.jsx("button",{onClick:()=>window.location.href="/",style:{padding:"12px 24px",background:"rgba(255, 255, 255, 0.2)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"12px",color:"white",fontSize:"1rem",cursor:"pointer",transition:"all 0.3s ease",backdropFilter:"blur(10px)"},onMouseEnter:e=>{e.target.style.background="rgba(255, 255, 255, 0.3)",e.target.style.transform="translateY(-2px)"},onMouseLeave:e=>{e.target.style.background="rgba(255, 255, 255, 0.2)",e.target.style.transform="translateY(0)"},children:"返回主应用"})})]})})}function H(){const[n,o]=e.useState(!1);return t.jsxs("div",{style:{padding:"40px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",minHeight:"100vh",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", sans-serif'},children:[t.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto",background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",borderRadius:"24px",padding:"40px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",textAlign:"center"},children:[t.jsx("h1",{style:{color:"white",marginBottom:"20px",fontSize:"2.2rem",fontWeight:"600"},children:"🧪 反馈表单测试"}),t.jsxs("p",{style:{color:"rgba(255, 255, 255, 0.8)",marginBottom:"30px",fontSize:"1.1rem",lineHeight:"1.6"},children:["测试反馈表单的提交功能，包括：",t.jsx("br",{}),"• Formspree 在线提交",t.jsx("br",{}),"• 邮件降级方案",t.jsx("br",{}),"• 成功/失败提示对话框",t.jsx("br",{}),"• 表单自动关闭功能",t.jsx("br",{}),"• 敏感词和恶意内容过滤"]}),t.jsx("button",{onClick:()=>o(!0),style:{padding:"15px 30px",background:"rgba(255, 255, 255, 0.2)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"12px",color:"white",fontSize:"1.1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",backdropFilter:"blur(10px)"},onMouseEnter:e=>{e.target.style.background="rgba(255, 255, 255, 0.3)",e.target.style.transform="translateY(-2px)"},onMouseLeave:e=>{e.target.style.background="rgba(255, 255, 255, 0.2)",e.target.style.transform="translateY(0)"},children:"📝 打开反馈表单"}),t.jsxs("div",{style:{marginTop:"30px",padding:"20px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"16px",border:"1px solid rgba(255, 255, 255, 0.2)",textAlign:"left"},children:[t.jsx("h3",{style:{color:"white",marginBottom:"15px",fontSize:"1.3rem"},children:"🔍 测试要点："}),t.jsxs("ul",{style:{color:"rgba(255, 255, 255, 0.9)",lineHeight:"1.8",paddingLeft:"20px"},children:[t.jsx("li",{children:"填写表单并提交，观察控制台日志"}),t.jsx("li",{children:'检查是否显示"提交成功"对话框'}),t.jsx("li",{children:"确认对话框关闭后表单是否自动关闭"}),t.jsx("li",{children:"验证表单字段是否重置为默认值"}),t.jsx("li",{children:"测试空字段提交是否正确显示错误提示"}),t.jsx("li",{children:'测试敏感词检测：尝试输入"政治"、"暴力"等敏感词'}),t.jsx("li",{children:"测试恶意内容检测：尝试输入网址、重复字符等"})]})]}),t.jsx("div",{style:{marginTop:"20px",textAlign:"center"},children:t.jsx("button",{onClick:()=>window.location.href="/",style:{padding:"10px 20px",background:"transparent",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"8px",color:"rgba(255, 255, 255, 0.8)",fontSize:"0.9rem",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:e=>{e.target.style.color="white",e.target.style.borderColor="rgba(255, 255, 255, 0.5)"},onMouseLeave:e=>{e.target.style.color="rgba(255, 255, 255, 0.8)",e.target.style.borderColor="rgba(255, 255, 255, 0.3)"},children:"返回主应用"})})]}),t.jsx(N,{isOpen:n,onClose:()=>{o(!1)}})]})}function K(e){return e&&"undefined"!==e&&"null"!==e&&""!==e&&!e.startsWith("%VITE_")&&!e.startsWith("${")}const q=()=>{const[n,o]=e.useState(null),[s,i]=e.useState(0),[r,a]=e.useState(!1),l=()=>{let e=null;if("undefined"!=typeof window&&window.__BEIAN_INFO__){const t=window.__BEIAN_INFO__;K(t.icpNumber)&&(e={icpNumber:t.icpNumber,icpUrl:t.icpUrl||"https://beian.miit.gov.cn",policeNumber:K(t.policeNumber)?t.policeNumber:null,policeCode:K(t.policeCode)?t.policeCode:null,policeUrl:K(t.policeUrl)?t.policeUrl:null,hasBeianInfo:!0})}if(!e)try{const t=function(){let e,t,n,o="京ICP备12345678号-1",s="https://beian.miit.gov.cn";if("undefined"!=typeof window&&window.__BEIAN_INFO__){const i=window.__BEIAN_INFO__;o=o||i.icpNumber,s=s||i.icpUrl,e=e||i.policeNumber,t=t||i.policeCode,n=n||i.policeUrl}if("undefined"!=typeof window&&window.localStorage)try{const i=localStorage.getItem("app_beian_info");if(i){const r=JSON.parse(i);o=o||r.icpNumber,s=s||r.icpUrl,e=e||r.policeNumber,t=t||r.policeCode,n=n||r.policeUrl}}catch(l){}const i=K(o)?o:null,r=K(s)?s:"https://beian.miit.gov.cn",a=K(e)?e:null;return{icpNumber:i,icpUrl:r,policeNumber:a,policeCode:K(t)?t:null,policeUrl:K(n)?n:null,hasBeianInfo:!(!i&&!a)}}();t.hasBeianInfo&&K(t.icpNumber)&&(e=t)}catch(t){}if(!e){const t="京ICP备12345678号-1",n="https://beian.miit.gov.cn",o=void 0,s=void 0,i=void 0;K(t)&&(e={icpNumber:t,icpUrl:K(n)?n:"https://beian.miit.gov.cn",policeNumber:K(o)?o:null,policeCode:K(s)?s:null,policeUrl:K(i)?i:null,hasBeianInfo:!0})}return!!e&&(o(e),a(!0),!0)};e.useEffect(()=>{if(l())return;const e=[];[10,50,100,200,500,1e3,2e3].forEach((t,n)=>{const o=setTimeout(()=>{!r&&l()&&(e.slice(n+1).forEach(clearTimeout),i(e=>e+1))},t);e.push(o)});const t=()=>{setTimeout(()=>{r||(l(),i(e=>e+1))},50)};return"loading"===document.readyState&&document.addEventListener("DOMContentLoaded",t),window.addEventListener("load",t),()=>{e.forEach(clearTimeout),document.removeEventListener("DOMContentLoaded",t),window.removeEventListener("load",t)}},[]);return(()=>{if(!n){let e=null;if("undefined"!=typeof window&&window.__BEIAN_INFO__){const t=window.__BEIAN_INFO__;K(t.icpNumber)&&(e=t)}if(!e){const t="京ICP备12345678号-1",n="https://beian.miit.gov.cn";K(t)&&(e={icpNumber:t,icpUrl:K(n)?n:"https://beian.miit.gov.cn"})}return e&&K(e.icpNumber)?t.jsx("footer",{className:"beian-info",children:t.jsx("div",{className:"beian-container",children:t.jsx("div",{className:"beian-item icp-beian",children:t.jsx("a",{href:e.icpUrl||"https://beian.miit.gov.cn",target:"_blank",rel:"noopener noreferrer",className:"beian-link",children:e.icpNumber})})})},s):null}const e=K(n.icpNumber),o=K(n.policeNumber);return e||o?t.jsx("footer",{className:"beian-info",children:t.jsxs("div",{className:"beian-container",children:[o&&K(n.policeCode)&&t.jsxs("div",{className:"beian-item police-beian",children:[t.jsx("img",{src:"/beian-logo.svg",alt:"公安备案",className:"police-logo",width:"20",height:"20"}),t.jsx("a",{href:n.policeUrl||`https://beian.mps.gov.cn/#/query/webSearch?code=${n.policeCode}`,target:"_blank",rel:"noopener noreferrer",className:"beian-link",children:n.policeNumber})]}),e&&t.jsx("div",{className:"beian-item icp-beian",children:t.jsx("a",{href:n.icpUrl||"https://beian.miit.gov.cn",target:"_blank",rel:"noopener noreferrer",className:"beian-link",children:n.icpNumber})})]})},s):null})()};function Y(){const e=window.location.search.includes("demo=customselect"),n=window.location.search.includes("test=feedback"),o=window.location.search.includes("page=privacy");return e?t.jsx(V,{}):n?t.jsx(H,{}):o?t.jsx(v,{}):t.jsxs("div",{className:"App",children:[t.jsx(W,{title:"我的待办清单",showStats:!0,showFilter:!0}),t.jsx(J,{}),t.jsx($,{}),t.jsx(q,{})]})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/react-todo-app/sw.js").then(e=>{e.addEventListener("updatefound",()=>{const t=e.installing;t.addEventListener("statechange",()=>{"installed"===t.state&&navigator.serviceWorker.controller})})}).catch(e=>{})}),r.createRoot(document.getElementById("root")).render(t.jsx(e.StrictMode,{children:t.jsx(Y,{})}));
