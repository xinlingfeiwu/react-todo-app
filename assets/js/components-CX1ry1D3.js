import{j as e,r as s}from"./vendor-Cz1k-HHZ.js";const n={TODOS:"ylingtech-todo-app",TODOS_OLD:"react-todo-app",THEME:"todo-app-theme",COOKIE_CONSENT:"cookie_consent",COOKIE_CONSENT_DATE:"cookie_consent_date",COOKIE_CONSENT_VERSION:"cookie_consent_version",DONATION_RECORDS:"donation_records",APP_CURRENT_VERSION:"app_current_version",APP_UPDATE_DISMISSED:"app_update_dismissed",APP_UPDATE_SNOOZED:"app_update_snoozed"},t=n.TODOS,a=n.TODOS_OLD,i=n.THEME,c=n.APP_CURRENT_VERSION,l=n.APP_UPDATE_DISMISSED,r=n.APP_UPDATE_SNOOZED,o={ACCEPTED:"accepted",DECLINED:"declined"};function d({isOpen:s,title:n="确认操作",message:t,confirmText:a="确认",cancelText:i="取消",onConfirm:c,onCancel:l,type:r="warning",showCancel:o=!0}){if(!s)return null;return e.jsx("div",{className:"confirm-dialog-overlay",onClick:e=>{e.target===e.currentTarget&&l&&l()},children:e.jsxs("div",{className:`confirm-dialog ${r}`,children:[e.jsx("div",{className:"dialog-header",children:e.jsx("h3",{children:n})}),e.jsx("div",{className:"dialog-content",children:e.jsx("p",{children:t})}),e.jsxs("div",{className:"dialog-actions",children:[o&&i&&l&&e.jsx("button",{className:"btn-cancel",onClick:l,children:i}),e.jsx("button",{className:`btn-confirm btn-${r}`,onClick:c,children:a})]})]})})}function h(){try{return localStorage.getItem(n.COOKIE_CONSENT)}catch(e){return null}}function m(){const e=h();return e===o.ACCEPTED||null===e}function p(){const e=h(),s=localStorage.getItem(n.COOKIE_CONSENT_DATE);return{hasConsented:null!==e,consentStatus:e,consentDate:s?new Date(s):null,canUseLocalStorage:m(),dataKeysCount:x()}}function x(){try{const e=Object.keys(localStorage),s=[n.COOKIE_CONSENT,n.COOKIE_CONSENT_DATE,n.COOKIE_CONSENT_VERSION];return e.filter(e=>!s.includes(e)).length}catch{return 0}}function u(){const e=p(),s={};try{const e=Object.keys(localStorage),t=[n.COOKIE_CONSENT,n.COOKIE_CONSENT_DATE,n.COOKIE_CONSENT_VERSION];e.forEach(e=>{t.includes(e)||(s[e]=function(e,s=null){if(!m())return s;try{const t=localStorage.getItem(e);if(null===t)return s;try{return JSON.parse(t)}catch(n){return null!==s?s:t}}catch(t){return s}}(e))})}catch(t){}return{exportDate:(new Date).toISOString(),privacyInfo:e,userData:s}}function j({isOpen:t,onClose:a,onDataCleared:i}){const[c,l]=s.useState(null),[r,o]=s.useState(null),[h,m]=s.useState(null);s.useEffect(()=>{t&&l(p())},[t]);const x=()=>{m(null)};return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"privacy-settings-overlay",onClick:a,children:e.jsxs("div",{className:"privacy-settings-modal",onClick:e=>e.stopPropagation(),children:[e.jsxs("div",{className:"privacy-settings-header",children:[e.jsx("h2",{children:"隐私设置"}),e.jsx("button",{className:"close-btn",onClick:a,children:e.jsx("span",{className:"close-btn-icon",children:"✕"})})]}),e.jsx("div",{className:"privacy-settings-content",children:c&&e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"privacy-section",children:[e.jsx("h3",{children:"当前状态"}),e.jsxs("div",{className:"privacy-status",children:[e.jsxs("div",{className:"status-item",children:[e.jsx("span",{className:"status-label",children:"Cookie 同意状态:"}),e.jsx("span",{className:`status-value ${c.consentStatus}`,children:"accepted"===c.consentStatus?"✅ 已同意":"declined"===c.consentStatus?"❌ 已拒绝":"⏳ 未设置"})]}),c.consentDate&&e.jsxs("div",{className:"status-item",children:[e.jsx("span",{className:"status-label",children:"设置时间:"}),e.jsx("span",{className:"status-value",children:c.consentDate.toLocaleString()})]}),e.jsxs("div",{className:"status-item",children:[e.jsx("span",{className:"status-label",children:"存储数据项:"}),e.jsxs("span",{className:"status-value",children:[c.dataKeysCount," 个"]})]})]})]}),e.jsxs("section",{className:"privacy-section",children:[e.jsx("h3",{children:"数据管理"}),e.jsxs("div",{className:"privacy-actions",children:[e.jsx("button",{className:"privacy-btn export",onClick:()=>{try{const e=u(),s=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(s),t=document.createElement("a");t.href=n,t.download=`my-todos-data-${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(n),m({type:"success",title:"导出成功 📥",message:"数据已成功导出到您的下载文件夹！"})}catch(e){m({type:"error",title:"导出失败 ❌",message:"导出过程中发生错误，请重试。"})}},children:"📥 导出我的数据"}),e.jsx("button",{className:"privacy-btn clear",onClick:()=>{if("clear"===r){const e=function(){const e=[n.COOKIE_CONSENT,n.COOKIE_CONSENT_DATE,n.COOKIE_CONSENT_VERSION];try{return Object.keys(localStorage).filter(s=>!e.includes(s)).forEach(e=>{localStorage.removeItem(e)}),!0}catch(s){return!1}}();l(p()),o(null),e?(i&&i(),m({type:"success",title:"清除成功 🗑️",message:"应用数据已成功清除！您的隐私设置已保留。"})):m({type:"error",title:"清除失败 ❌",message:"清除数据时发生错误，请重试。"})}else o("clear")},children:"clear"===r?"确认清除数据？":"🗑️ 清除应用数据"})]})]}),e.jsxs("section",{className:"privacy-section",children:[e.jsx("h3",{children:"隐私控制"}),e.jsx("div",{className:"privacy-actions",children:e.jsx("button",{className:"privacy-btn reset",onClick:()=>{"reset"===r?(!function(){try{localStorage.removeItem(n.COOKIE_CONSENT),localStorage.removeItem(n.COOKIE_CONSENT_DATE),localStorage.removeItem(n.COOKIE_CONSENT_VERSION)}catch(e){}}(),o(null),m({type:"success",title:"重置成功 🔄",message:"隐私设置已重置，页面将在3秒后刷新..."}),setTimeout(()=>{window.location.reload()},3e3)):o("reset")},children:"reset"===r?"确认重置设置？":"🔄 重置隐私设置"})}),e.jsx("p",{className:"privacy-note",children:"重置后将重新显示 Cookie 同意提示"})]}),e.jsxs("section",{className:"privacy-section",children:[e.jsx("h3",{children:"说明"}),e.jsx("div",{className:"privacy-info",children:e.jsxs("p",{children:["• 所有数据仅存储在您的设备上",e.jsx("br",{}),"• 我们不收集个人身份信息",e.jsx("br",{}),"• 您可以随时导出或删除数据",e.jsx("br",{}),"• 拒绝 Cookie 将限制某些功能"]})})]})]})})]})}),h&&e.jsx("div",{className:"privacy-success-dialog-wrapper",children:e.jsx(d,{isOpen:!0,title:h.title,message:h.message,type:h.type,showCancel:!1,confirmText:"确定",onConfirm:x,onCancel:x})})]}):null}function v({isOpen:s,onClose:n}){return s?e.jsx("div",{className:"privacy-settings-overlay",onClick:n,children:e.jsxs("div",{className:"privacy-settings-modal",onClick:e=>e.stopPropagation(),children:[e.jsxs("div",{className:"privacy-settings-header",children:[e.jsx("h2",{children:"隐私政策"}),e.jsx("button",{className:"close-btn",onClick:n,children:e.jsx("span",{className:"close-btn-icon",children:"✕"})})]}),e.jsx("div",{className:"privacy-settings-content",children:e.jsxs("div",{className:"privacy-policy-content",children:[e.jsx("p",{className:"last-updated",children:"最后更新：2025年7月17日"}),e.jsxs("section",{className:"privacy-section",children:[e.jsx("h3",{children:"1. 概述"}),e.jsx("div",{className:"privacy-info",children:e.jsx("p",{children:'我的待办清单（以下简称"应用"）尊重并保护您的隐私。本隐私政策说明了我们如何收集、 使用和保护您的信息。'})})]}),e.jsxs("section",{className:"privacy-section",children:[e.jsx("h3",{children:"2. 信息收集"}),e.jsxs("div",{className:"privacy-info",children:[e.jsx("h4",{children:"我们收集的信息："}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"待办事项数据"}),"：您创建的待办事项内容、完成状态、创建时间等"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"应用设置"}),"：主题偏好、过滤器设置、界面配置等"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"使用统计"}),"：匿名的应用使用情况，用于改进用户体验"]})]}),e.jsx("h4",{children:"我们不收集："}),e.jsxs("ul",{children:[e.jsx("li",{children:"个人身份信息（姓名、邮箱、电话等）"}),e.jsx("li",{children:"位置信息"}),e.jsx("li",{children:"设备标识符"}),e.jsx("li",{children:"与第三方的通信内容"})]})]})]}),e.jsxs("section",{className:"privacy-section",children:[e.jsx("h3",{children:"3. 数据存储"}),e.jsxs("div",{className:"privacy-info",children:[e.jsx("p",{children:"您的所有数据都存储在您的设备本地（浏览器的 localStorage），我们不会将您的数据 上传到任何服务器。这意味着："}),e.jsxs("ul",{children:[e.jsx("li",{children:"✅ 您拥有数据的完全控制权"}),e.jsx("li",{children:"✅ 数据不会被第三方访问"}),e.jsx("li",{children:"✅ 离线时应用仍可正常使用"}),e.jsx("li",{children:"⚠️ 清除浏览器数据会导致待办事项丢失"})]})]})]}),e.jsxs("section",{className:"privacy-section",children:[e.jsx("h3",{children:"4. Cookie 使用"}),e.jsxs("div",{className:"privacy-info",children:[e.jsx("p",{children:"我们使用 Cookie 和本地存储技术来："}),e.jsxs("ul",{children:[e.jsx("li",{children:"保存您的待办事项和应用设置"}),e.jsx("li",{children:"记住您的主题偏好"}),e.jsx("li",{children:"提供更好的用户体验"}),e.jsx("li",{children:"记录您的隐私设置选择"})]})]})]}),e.jsxs("section",{className:"privacy-section",children:[e.jsx("h3",{children:"5. 数据安全"}),e.jsxs("div",{className:"privacy-info",children:[e.jsx("p",{children:"由于数据仅存储在您的设备上，您的信息安全主要依赖于您设备的安全性。 我们建议您："}),e.jsxs("ul",{children:[e.jsx("li",{children:"定期导出备份您的待办事项数据"}),e.jsx("li",{children:"使用安全的设备和浏览器"}),e.jsx("li",{children:"避免在公共设备上使用敏感信息"})]})]})]}),e.jsxs("section",{className:"privacy-section",children:[e.jsx("h3",{children:"6. 第三方服务"}),e.jsxs("div",{className:"privacy-info",children:[e.jsx("p",{children:"本应用可能包含以下第三方服务："}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"字体服务"}),"：Google Fonts（用于提供美观字体）"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"CDN 服务"}),"：用于加速资源加载"]})]}),e.jsx("p",{children:"这些服务有自己的隐私政策，我们建议您查阅相关条款。"})]})]}),e.jsxs("section",{className:"privacy-section",children:[e.jsx("h3",{children:"7. 您的权利"}),e.jsxs("div",{className:"privacy-info",children:[e.jsx("p",{children:"您拥有以下权利："}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"访问权"}),"：随时查看您的所有数据"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"修改权"}),"：随时编辑或删除您的待办事项"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"导出权"}),"：将数据导出为 JSON 格式"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"删除权"}),"：清除所有存储的数据"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"撤回同意"}),"：随时更改隐私设置"]})]})]})]}),e.jsxs("section",{className:"privacy-section",children:[e.jsx("h3",{children:"8. 数据管理"}),e.jsxs("div",{className:"privacy-info",children:[e.jsx("h4",{children:"导出数据："}),e.jsx("p",{children:'您可以通过应用的"数据管理"功能导出所有待办事项数据。'}),e.jsx("h4",{children:"删除数据："}),e.jsx("p",{children:"您可以通过以下方式删除数据："}),e.jsxs("ul",{children:[e.jsx("li",{children:'使用应用内的"清空所有数据"功能'}),e.jsx("li",{children:"清除浏览器的本地存储"}),e.jsx("li",{children:"卸载应用（如果是 PWA 安装版）"})]})]})]}),e.jsxs("section",{className:"privacy-section",children:[e.jsx("h3",{children:"9. 未成年人保护"}),e.jsx("div",{className:"privacy-info",children:e.jsx("p",{children:"我们不会故意收集 13 岁以下儿童的个人信息。如果发现收集了此类信息， 我们会立即删除。"})})]}),e.jsxs("section",{className:"privacy-section",children:[e.jsx("h3",{children:"10. 政策更新"}),e.jsx("div",{className:"privacy-info",children:e.jsx("p",{children:"我们可能会不时更新本隐私政策。重大变更时，我们会通过应用内通知的方式 告知您。建议您定期查看本政策。"})})]}),e.jsxs("section",{className:"privacy-section",children:[e.jsx("h3",{children:"11. 联系我们"}),e.jsxs("div",{className:"privacy-info",children:[e.jsx("p",{children:"如果您对本隐私政策有任何疑问，可以通过以下方式联系我们："}),e.jsxs("ul",{children:[e.jsx("li",{children:"应用内反馈功能"}),e.jsx("li",{children:"GitHub 项目页面"})]})]})]}),e.jsxs("section",{className:"privacy-section",children:[e.jsx("h3",{children:"12. 法律适用"}),e.jsx("div",{className:"privacy-info",children:e.jsx("p",{children:"本隐私政策受中华人民共和国法律管辖。同时，我们努力遵守 GDPR、CCPA 等国际隐私法规的要求。"})})]}),e.jsx("section",{className:"privacy-section",children:e.jsx("div",{className:"privacy-summary",children:e.jsxs("p",{children:[e.jsx("strong",{children:"简而言之"}),"：我们不收集您的个人信息，您的待办事项数据完全属于您， 存储在您的设备上，我们只是提供一个好用的工具帮您管理待办事项。"]})})})]})})]})}):null}function g({value:n,onChange:t,options:a,id:i,name:c,className:l="",disabled:r=!1}){const[o,d]=s.useState(!1),[h,m]=s.useState(-1),p=s.useRef(null),x=s.useRef(null);s.useEffect(()=>{const e=e=>{p.current&&!p.current.contains(e.target)&&(d(!1),m(-1))};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const u=e=>{t({target:{value:e.value,name:c||i}}),d(!1),m(-1)},j=a.find(e=>e.value===n);return e.jsxs("div",{className:`custom-select ${l} ${o?"open":""} ${r?"disabled":""}`,ref:p,children:[e.jsxs("div",{className:"custom-select-trigger",onClick:()=>!r&&d(!o),onKeyDown:e=>{if(!r)switch(e.key){case"Enter":case" ":e.preventDefault(),o?h>=0&&u(a[h]):(d(!0),m(a.findIndex(e=>e.value===n)));break;case"Escape":d(!1),m(-1);break;case"ArrowDown":e.preventDefault(),o?m(e=>(e+1)%a.length):(d(!0),m(a.findIndex(e=>e.value===n)));break;case"ArrowUp":e.preventDefault(),o?m(e=>(e-1+a.length)%a.length):(d(!0),m(a.findIndex(e=>e.value===n)))}},tabIndex:r?-1:0,role:"combobox","aria-expanded":o,"aria-haspopup":"listbox","aria-labelledby":`${i}-label`,children:[e.jsxs("span",{className:"custom-select-value",children:[j?.icon&&e.jsx("span",{className:"option-icon",children:j.icon}),e.jsx("span",{className:"option-text",children:j?.label})]}),e.jsx("span",{className:"custom-select-arrow "+(o?"open":""),children:e.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M7 10L12 15L17 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),o&&e.jsx("div",{className:"custom-select-dropdown",ref:x,children:e.jsx("ul",{className:"custom-select-options",role:"listbox",children:a.map((s,t)=>e.jsxs("li",{className:`custom-select-option ${s.value===n?"selected":""} ${t===h?"focused":""}`,onClick:()=>u(s),onMouseEnter:()=>m(t),role:"option","aria-selected":s.value===n,children:[s.icon&&e.jsx("span",{className:"option-icon",children:s.icon}),e.jsx("span",{className:"option-text",children:s.label}),s.value===n&&e.jsx("span",{className:"check-icon",children:"✓"})]},s.value))})})]})}const N={LIGHT:"light",DARK:"dark",SYSTEM:"system"};function y(){return"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function f(){const e=localStorage.getItem(i)||N.SYSTEM;return{mode:e,actualTheme:e===N.SYSTEM?y():e}}function b(e){Object.values(N).includes(e)&&(localStorage.setItem(i,e),C(e))}function C(e){const s=e===N.SYSTEM?y():e;document.documentElement.setAttribute("data-theme",s),document.documentElement.classList.remove("theme-light","theme-dark"),document.documentElement.classList.add(`theme-${s}`),function(e){const s=document.documentElement;"dark"===e?(s.style.setProperty("--bg-primary","#000000"),s.style.setProperty("--bg-secondary","#111111"),s.style.setProperty("--bg-tertiary","#1a1a1a"),s.style.setProperty("--text-primary","#ffffff"),s.style.setProperty("--text-secondary","#e5e5e5"),s.style.setProperty("--text-muted","#a1a1a1"),s.style.setProperty("--border-color","#333333"),s.style.setProperty("--shadow-color","rgba(0, 0, 0, 0.5)"),s.style.setProperty("--glass-bg","rgba(17, 17, 17, 0.9)"),s.style.setProperty("--glass-border","rgba(255, 255, 255, 0.1)")):(s.style.setProperty("--bg-primary","#ffffff"),s.style.setProperty("--bg-secondary","#f8f9fa"),s.style.setProperty("--bg-tertiary","#e9ecef"),s.style.setProperty("--text-primary","#2d3748"),s.style.setProperty("--text-secondary","#4a5568"),s.style.setProperty("--text-muted","#718096"),s.style.setProperty("--border-color","#e2e8f0"),s.style.setProperty("--shadow-color","rgba(0, 0, 0, 0.1)"),s.style.setProperty("--glass-bg","rgba(255, 255, 255, 0.8)"),s.style.setProperty("--glass-border","rgba(255, 255, 255, 0.3)"))}(s)}function S(e){return{[N.LIGHT]:"浅色",[N.DARK]:"深色",[N.SYSTEM]:"跟随系统"}[e]||e}function O(){const[e,n]=s.useState(f);s.useEffect(()=>{const e=function(){const{mode:e}=f();if(C(e),"undefined"!=typeof window&&window.matchMedia){const e=window.matchMedia("(prefers-color-scheme: dark)"),s=()=>{(localStorage.getItem(i)||N.SYSTEM)===N.SYSTEM&&C(N.SYSTEM)};return e.addEventListener("change",s),()=>{e.removeEventListener("change",s)}}}(),s=setInterval(()=>{const e=f();n(s=>s.mode!==e.mode||s.actualTheme!==e.actualTheme?e:s)},1e3);return()=>{e&&e(),clearInterval(s)}},[]);const t=s.useCallback(e=>{b(e),n(f())},[]),a=s.useCallback(()=>{const e=function(){const{actualTheme:e}=f(),s="light"===e?"dark":"light";return b(s),s}();return n(f()),e},[]);return{mode:e.mode,actualTheme:e.actualTheme,setThemeMode:t,toggleTheme:a}}function w({onExport:n,onImport:t,onClearAll:a,totalItems:i}){const c=s.useRef(null),[l,r]=s.useState(!1),[o,h]=s.useState("replace"),[m,p]=s.useState({type:"",text:""}),[x,u]=s.useState(!1),[y,f]=s.useState(!1),[b,C]=s.useState(!1),[w,k]=s.useState({show:!1,title:"",message:""}),{mode:E,actualTheme:T,setThemeMode:I}=O(),_=(e,s)=>{p({type:e,text:s}),setTimeout(()=>p({type:"",text:""}),3e3)},D=[{value:N.LIGHT,label:S(N.LIGHT),icon:"☀️"},{value:N.DARK,label:S(N.DARK),icon:"🌙"},{value:N.SYSTEM,label:S(N.SYSTEM),icon:"🔄"}];return e.jsxs("div",{className:"app-settings",children:[m.text&&e.jsx("div",{className:`message ${m.type}`,children:m.text}),e.jsxs("div",{className:"settings-section",children:[e.jsxs("h3",{className:"section-title",children:[e.jsx("span",{className:"section-icon section-theme-icon",children:"🍀"}),"主题设置"]}),e.jsxs("div",{className:"theme-settings",children:[e.jsxs("div",{className:"current-theme",children:[e.jsx("span",{className:"current-theme-label",children:"当前主题："}),e.jsx("span",{className:`current-theme-value theme-${T}`,children:"light"===T?"☀️ 浅色":"🌙 深色"})]}),e.jsx("div",{className:"theme-options",children:D.map(s=>e.jsxs("button",{className:"theme-option "+(E===s.value?"active":""),onClick:()=>I(s.value),children:[e.jsx("span",{className:"theme-icon",children:s.icon}),e.jsx("span",{className:"theme-label",children:s.label})]},s.value))})]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsxs("h3",{className:"section-title",children:[e.jsx("span",{className:"section-icon",children:"💾"}),"数据管理"]}),e.jsx("div",{className:"data-stats",children:e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-label",children:"待办事项总数"}),e.jsx("span",{className:"stat-value",children:i})]})}),e.jsxs("div",{className:"data-actions",children:[e.jsxs("div",{className:"action-group import-export-group",children:[e.jsx("h4",{children:"导入/导出"}),e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"action-btn export",onClick:async()=>{try{await n()?_("success","数据导出成功！"):_("error","导出失败，请重试")}catch{_("error","导出过程中发生错误")}},disabled:0===i,children:"📤 导出数据"}),e.jsxs("div",{className:"form-group",children:[e.jsx("h4",{children:"导入模式"}),e.jsx(g,{id:"import-mode",name:"import-mode",value:o,onChange:e=>h(e.target.value),options:[{value:"replace",label:"替换现有数据",icon:"🔄"},{value:"merge",label:"合并到现有数据",icon:"🔀"}],className:"feedback-custom-select"})]}),e.jsx("button",{className:"action-btn import",onClick:()=>c.current?.click(),disabled:l,children:l?"📥 导入中...":"📥 导入数据"}),e.jsx("input",{type:"file",ref:c,onChange:async e=>{const s=e.target.files[0];if(s)if(s.name.endsWith(".json")){r(!0);try{const e=await s.text(),n=JSON.parse(e);let a=n,i=!1;if(n.exportDate&&n.privacyInfo&&n.userData){i=!0;const e=n.userData;if(!e["ylingtech-todo-app"])return void k({show:!0,title:"数据格式错误",message:"隐私导出文件中未找到待办事项数据结构。请确认文件是否为本应用导出的隐私数据文件。"});const s=e["ylingtech-todo-app"];if(!s.todos||!Array.isArray(s.todos))return void k({show:!0,title:"数据格式错误",message:"隐私导出文件中的待办事项数据格式不正确。请确认文件完整性。"});if(0===s.todos.length)return void k({show:!0,title:"数据为空",message:"隐私导出文件中没有待办事项数据。文件格式正确但不包含任何待办事项。"});a=e["ylingtech-todo-app"]}const c=await t(a,o);if(c.success){const e=i?" （来自隐私导出文件）":"";_("success",`数据${"replace"===o?"替换":"合并"}成功！导入了 ${c.count} 个待办事项。${e}`)}else k({show:!0,title:c.error||"导入失败",message:c.details||"导入过程中发生错误，请重试。"})}catch(n){k({show:!0,title:"JSON 格式错误",message:"无法解析选择的文件。请确保选择的是有效的 JSON 格式文件。支持本应用导出的文件或隐私设置导出的数据文件。"})}finally{r(!1),c.current&&(c.current.value="")}}else k({show:!0,title:"文件类型错误",message:"请选择 JSON 格式的文件。支持从本应用导出的 JSON 文件或隐私设置导出的数据文件。"})},accept:".json",style:{display:"none"}})]})]}),e.jsxs("div",{className:"action-group danger",children:[e.jsx("h4",{children:"危险操作"}),e.jsx("button",{className:"action-btn danger",onClick:()=>{u(!0)},disabled:0===i,children:"🗑️ 清除所有数据"})]})]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsxs("h3",{className:"section-title",children:[e.jsx("span",{className:"section-icon",children:"🔒"}),"隐私与法律"]}),e.jsxs("div",{className:"privacy-actions",children:[e.jsx("button",{className:"action-btn privacy",onClick:()=>C(!0),children:"📄 查看隐私政策"}),e.jsx("button",{className:"action-btn privacy",onClick:()=>f(!0),children:"⚙️ 隐私设置"})]})]}),e.jsx(d,{isOpen:x,title:"确认清除数据",message:`确定要清除所有 ${i} 个待办事项吗？此操作不可撤销！`,confirmText:"确认清除",cancelText:"取消",onConfirm:async()=>{try{await a(),_("success","数据清除成功！")}catch{_("error","清除数据失败")}u(!1)},onCancel:()=>{u(!1)},type:"danger"}),e.jsx(v,{isOpen:b,onClose:()=>C(!1)}),w.show&&e.jsx(d,{isOpen:w.show,title:w.title,message:w.message,confirmText:"确定",onConfirm:()=>k({show:!1,title:"",message:""}),onCancel:()=>k({show:!1,title:"",message:""}),showCancel:!1}),e.jsx(j,{isOpen:y,onClose:()=>f(!1),onDataCleared:a})]})}const k={formspree:{enabled:!0,endpoint:"https://formspree.io/f/xyzpyklr"},email:{address:"lovexinlingfeiwu@foxmail.com",subject:"[待办清单反馈]"},netlify:{enabled:!1,action:"/feedback"},customAPI:{enabled:!1,endpoint:"https://your-api.com/feedback"}},E=()=>k.formspree.enabled?{type:"formspree",config:k.formspree}:k.netlify.enabled?{type:"netlify",config:k.netlify}:k.customAPI.enabled?{type:"customAPI",config:k.customAPI}:{type:"email",config:k.email},T=["政治","政府","官员","腐败","抗议","示威","革命","政权","共产党","民主党","自由党","独裁","专制","政变","起义","反政府","颠覆","叛乱","分裂","台独","藏独","疆独","六四","天安门","法轮功","达赖","习近平","毛泽东","暴力","杀害","伤害","攻击","武器","炸弹","枪支","刀具","打击","报复","仇恨","威胁","恐吓","殴打","斗殴","械斗","杀死","谋杀","暗杀","屠杀","血腥","残忍","虐待","折磨","爆炸","纵火","投毒","砍杀","捅死","枪杀","刺杀","恐怖主义","恐怖分子","恐怖袭击","ISIS","基地组织","色情","裸体","性行为","成人","情色","黄色","淫秽","性爱","做爱","上床","性交","性器官","生殖器","阴茎","阴道","乳房","胸部","臀部","性感","诱惑","挑逗","自慰","手淫","口交","肛交","群交","乱伦","强奸","性侵","猥亵","嫖娼","卖淫","妓女","援交","包养","赌博","博彩","彩票","赌场","下注","投注","押注","赌钱","赌球","赌马","老虎机","轮盘","百家乐","德州扑克","麻将赌博","斗地主","炸金花","牛牛","21点","骰子","赌注","庄家","赔率","开盘","盘口","赌徒","赌瘾","毒品","吸毒","贩毒","大麻","海洛因","冰毒","摇头丸","可卡因","鸦片","吗啡","K粉","麻醉剂","致幻剂","毒贩","制毒","贩卖毒品","吸食毒品","注射毒品","麻黄素","氯胺酮","苯丙胺","LSD","MDMA","诈骗","欺诈","骗钱","传销","洗钱","假币","伪造","造假","假冒","冒充","钓鱼","套路贷","高利贷","非法集资","庞氏骗局","金字塔骗局","电信诈骗","网络诈骗","信用卡诈骗","保险诈骗","投资诈骗","种族歧视","性别歧视","仇恨","歧视","偏见","排外","民族仇恨","宗教仇恨","地域歧视","贬低","侮辱","人身攻击","恶意中伤","诽谤","造谣","传谣","自杀","自残","自杀方法","结束生命","轻生","寻死","割腕","跳楼","上吊","服毒","烧炭自杀","安乐死","自我伤害","自虐","抑郁自杀","想死","不想活","犯罪","违法","盗窃","抢劫","抢夺","偷盗","入室盗窃","绑架","拐卖","人口贩卖","拐骗","敲诈","勒索","非法拘禁","故意伤害","寻衅滋事","聚众斗殴","破坏公物","纵火","爆炸","危害公共安全","黑客","病毒","木马","钓鱼网站","网络攻击","入侵","破解","盗号","撞库","DDOS","肉鸡","僵尸网络","社工","暗网","数据泄露","隐私泄露","信息窃取","极端主义","原教旨主义","分离主义","邪教","异端","宗教极端","民族极端","暴力极端","激进组织","恶意","破坏","骚扰","跟踪","偷拍","偷窥","垃圾邮件","spam","广告","推广","营销","刷单","水军","僵尸粉","买粉","刷量","刷评","恶意差评","人肉搜索","网络暴力","网络霸凌","键盘侠","虚拟货币诈骗","比特币诈骗","ICO诈骗","P2P诈骗","外汇诈骗","股票诈骗","期货诈骗","基金诈骗","理财诈骗","投资陷阱","资金盘","跑路","儿童色情","恋童","儿童性侵","儿童虐待","拐卖儿童","儿童绑架","校园霸凌","虐待动物","杀害动物","动物暴力","非法捕猎","野生动物交易","象牙","犀牛角","虎骨","非法排污","环境污染","生态破坏","乱砍滥伐","非法采矿","盗采","破坏湿地","捕杀珍稀动物"],I=[/(.)\1{10,}/g,/[!@#$%^&*()_+={}[\]|\\:";'<>?,./]{10,}/g,/https?:\/\/[^\s]+/gi,/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/g,/(\+?86)?1[3-9]\d{9}/g,/[A-Z]{20,}/g,/\d{15,}/g,/qq[:：\s]*\d{5,}/gi,/[^\d]\d{5,11}[^\d]/g,/微信[:：\s]*[a-zA-Z0-9_-]{5,}/gi,/wx[:：\s]*[a-zA-Z0-9_-]{5,}/gi,/\d+元|\d+块|￥\d+|\$\d+/g,/\d{16,19}/g,/\d{15}|\d{18}/g,/[\u{1F600}-\u{1F64F}]{10,}/gu,/[\u{1F300}-\u{1F5FF}]{10,}/gu,/加我|扫码|免费|优惠|折扣|限时|特价|秒杀/gi,/点击|下载|安装|注册|登录|关注|订阅/gi,/[A-Za-z0-9+/]{50,}={0,2}/g,/[0-9a-fA-F]{50,}/g,/\n{10,}/g,/\s{20,}/g,/<[^>]+>/g,/(javascript|eval|alert|confirm|prompt)[:：\s]*\(/gi,/(select|insert|update|delete|drop|union|script)[:：\s]+/gi];function _(e){const s=function(e){if(!e||"string"!=typeof e)return[];const s=e.toLowerCase(),n=[];return T.forEach(e=>{s.includes(e.toLowerCase())&&(D.whitelist.some(e=>s.includes(e.toLowerCase()))||n.push(e))}),D.customWords.forEach(e=>{s.includes(e.toLowerCase())&&(D.whitelist.some(e=>s.includes(e.toLowerCase()))||n.push(e))}),n.filter(e=>!["广告","推广","营销"].includes(e))}(e),n=function(e){if(!e||"string"!=typeof e)return[];const s=[];return I[0].test(e)&&s.push("包含过多重复字符"),I[1].test(e)&&s.push("包含过多特殊字符"),I[2].test(e)&&s.push("包含可疑链接"),I[3].test(e)&&s.push("包含邮箱地址"),I[4].test(e)&&s.push("包含电话号码"),I[5].test(e)&&s.push("包含过多大写字母"),I[6].test(e)&&s.push("包含过多数字"),(I[7].test(e)||I[8].test(e))&&s.push("包含QQ号码"),(I[9].test(e)||I[10].test(e))&&s.push("包含微信号"),I[11].test(e)&&s.push("包含金钱数字"),I[12].test(e)&&s.push("包含可疑数字串"),I[13].test(e)&&s.push("包含身份证号格式"),(I[14].test(e)||I[15].test(e))&&s.push("包含过多表情符号"),I[16].test(e)&&s.push("包含营销推广词汇"),I[17].test(e)&&s.push("包含诱导点击词汇"),I[18].test(e)&&s.push("包含可疑编码内容"),I[19].test(e)&&s.push("包含十六进制编码"),I[20].test(e)&&s.push("包含过多换行符"),I[21].test(e)&&s.push("包含过多空格"),I[22].test(e)&&s.push("包含HTML标签"),I[23].test(e)&&s.push("包含JavaScript代码"),I[24].test(e)&&s.push("包含SQL查询语句"),s}(e);return{isValid:0===s.length&&0===n.length,sensitiveWords:s,maliciousPatterns:n,issues:[...s.map(e=>`包含敏感词: ${e}`),...n]}}const D={customWords:[],whitelist:["政治学","政治课","政府工作报告","游戏暴力","影视暴力","正常广告","合法推广"]};function P({isOpen:n,onClose:t}){const[a,i]=s.useState({type:"suggestion",title:"",description:"",email:"",priority:"medium"}),[c,l]=s.useState(!1),[r,o]=s.useState(!1),[h,m]=s.useState(!1),[p,x]=s.useState(""),[u,j]=s.useState(!1),[v,N]=s.useState("");if(!n)return null;const y=e=>{const{name:s,value:n}=e.target;i(e=>({...e,[s]:n}))},f=()=>{o(!1)},b=()=>{m(!1)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"feedback-overlay",onClick:e=>{e.target===e.currentTarget&&t()},children:e.jsxs("div",{className:"feedback-modal "+(n?"open":""),onClick:e=>e.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h3",{children:"💬 反馈与建议"}),e.jsx("button",{className:"close-btn",onClick:t,children:e.jsx("span",{className:"close-btn-icon",children:"✕"})})]}),e.jsx("div",{className:"modal-content",children:e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),!a.title.trim()||!a.description.trim())return void o(!0);const s=function(e){const{title:s,description:n}=e,t=_(s),a=_(n),i=[...t.issues.map(e=>`标题${e}`),...a.issues.map(e=>`描述${e}`)];return{isValid:t.isValid&&a.isValid,issues:i,details:{title:t,description:a}}}(a);if(!s.isValid){const e=s.issues.map(e=>`• ${e}`).join("\n");return x(`检测到以下问题：\n\n${e}\n\n请修改后重新提交。`),void m(!0)}j(!0);try{const e=E(),s={type:a.type,title:a.title,description:a.description,email:a.email,priority:a.priority,timestamp:(new Date).toISOString(),userAgent:navigator.userAgent,url:window.location.href};let t=!1;switch(e.type){case"formspree":try{const n=await fetch(e.config.endpoint,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(s)});await n.text();n.ok&&(t=!0)}catch(n){}break;case"netlify":try{const n=new FormData;Object.keys(s).forEach(e=>{n.append(e,s[e])});(await fetch(e.config.action,{method:"POST",body:n})).ok&&(t=!0)}catch(n){}break;case"customAPI":try{(await fetch(e.config.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok&&(t=!0)}catch(n){}}if(!t){const s=encodeURIComponent(`[${"suggestion"===a.type?"功能建议":"Bug反馈"}] ${a.title}`),n=encodeURIComponent(`\n类型: ${"suggestion"===a.type?"💡 功能建议":"🐛 Bug反馈"}\n标题: ${a.title}\n${"bug"===a.type?`优先级: ${a.priority}`:""}\n\n详细描述:\n${a.description}\n\n联系邮箱: ${a.email||"未提供"}\n\n---\n时间: ${(new Date).toLocaleString("zh-CN")}\n页面: ${window.location.href}\n浏览器: ${navigator.userAgent}\n        `),i=`mailto:${e.config.address}?subject=${s}&body=${n}`;window.open(i,"_blank"),t=!0}t?(N(a.type),i({type:"suggestion",title:"",description:"",email:"",priority:"medium"}),l(!0)):o(!0)}catch(n){o(!0)}finally{j(!1)}},className:"feedback-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"type",id:"type-label",children:"反馈类型"}),e.jsx(g,{id:"type",name:"type",value:a.type,onChange:y,options:[{value:"suggestion",label:"功能建议",icon:"💡"},{value:"bug",label:"Bug 反馈",icon:"🐛"}],className:"feedback-custom-select"})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"title",children:["suggestion"===a.type?"建议标题":"Bug 标题"," *"]}),e.jsx("input",{type:"text",id:"title",name:"title",value:a.title,onChange:y,placeholder:"suggestion"===a.type?"请简要描述您的功能建议...":"请简要描述遇到的问题...",className:"form-input",maxLength:100}),e.jsxs("div",{className:"char-count",children:[a.title.length,"/100"]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"description",children:"详细描述 *"}),e.jsx("textarea",{id:"description",name:"description",value:a.description,onChange:y,placeholder:"suggestion"===a.type?"请详细描述您希望添加的功能，以及它如何帮助提升用户体验...":"请详细描述问题的具体表现、重现步骤、您的设备和浏览器信息等...",className:"form-textarea",rows:6,maxLength:1e3}),e.jsxs("div",{className:"char-count",children:[a.description.length,"/1000"]})]}),"bug"===a.type&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"priority",id:"priority-label",children:"优先级"}),e.jsx(g,{id:"priority",name:"priority",value:a.priority,onChange:y,options:[{value:"low",label:"低 - 小问题，不影响使用",icon:"🟢"},{value:"medium",label:"中 - 影响部分功能",icon:"🟡"},{value:"high",label:"高 - 严重影响使用",icon:"🔴"}],className:"feedback-custom-select"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"联系邮箱（可选）"}),e.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:y,placeholder:"如需跟进讨论，请留下您的邮箱",className:"form-input"})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",disabled:u,children:"取消"}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u||!a.title.trim()||!a.description.trim(),children:u?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"loading-spinner"}),"提交中..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"submit-icon",children:"📤"}),"提交","suggestion"===a.type?"建议":"反馈"]})})]})]})})]})}),e.jsx(d,{isOpen:c,title:"提交成功 🎉",message:`感谢您的${"suggestion"===v?"建议":"反馈"}！我们会认真考虑并尽快回复。`,confirmText:"好的",cancelText:null,onConfirm:()=>{l(!1),t()},onCancel:null,type:"success"}),e.jsx(d,{isOpen:r,title:"提交失败 ❌",message:"请确保标题和描述都已填写完整后再提交。",confirmText:"好的",cancelText:null,onConfirm:f,onCancel:f,type:"error"}),e.jsx(d,{isOpen:h,title:"内容检查警告 ⚠️",message:p,confirmText:"我知道了",cancelText:null,onConfirm:b,onCancel:b,type:"warning"})]})}function A({isOpen:n,onClose:t}){const[a,i]=s.useState(!1),[c,l]=s.useState(!1),r=()=>{i(!1)};return e.jsxs(e.Fragment,{children:[n&&e.jsx("div",{className:"donate-overlay",onClick:e=>{e.target===e.currentTarget&&t()}}),e.jsxs("div",{className:"donate-sidebar "+(n?"open":""),children:[e.jsxs("div",{className:"sidebar-header",children:[e.jsxs("h3",{children:[e.jsx("span",{className:"header-icon",children:"💝"}),"支持开发"]}),e.jsx("button",{className:"close-btn",onClick:t,children:e.jsx("span",{className:"close-btn-icon",children:"✕"})})]}),e.jsx("div",{className:"sidebar-content",children:e.jsxs("div",{className:"donate-content",children:[e.jsxs("div",{className:"donate-message",children:[e.jsx("h4",{children:"🙏 感谢您的支持"}),e.jsx("p",{children:"如果这个待办清单应用对您有帮助，欢迎通过支付宝或微信进行捐赠，支持开发者继续改进和维护这个项目。"})]}),e.jsxs("div",{className:"qr-code-section",children:[e.jsx("h4",{children:"📱 扫码捐赠"}),e.jsxs("div",{className:"qr-codes-container",children:[e.jsxs("div",{className:"qr-code-item",children:[e.jsx("h5",{children:"支付宝"}),e.jsx("div",{className:"qr-code-container",children:e.jsx("img",{src:"/react-todo-app/images/alipay-qr.jpg",alt:"支付宝收款码",className:"qr-image"})})]}),e.jsxs("div",{className:"qr-code-item",children:[e.jsx("h5",{children:"微信支付"}),e.jsx("div",{className:"qr-code-container",children:e.jsx("img",{src:"/react-todo-app/images/wechat-qr.jpg",alt:"微信收款码",className:"qr-image"})})]})]})]}),e.jsxs("div",{className:"donate-options",children:[e.jsx("h4",{children:"💰 其他支持方式"}),e.jsxs("div",{className:"option-list",children:[e.jsxs("div",{className:"option-item clickable",onClick:()=>{window.open("https://github.com/xinlingfeiwu/react-todo-app","_blank","noopener,noreferrer")},children:[e.jsx("span",{className:"option-icon",children:"⭐"}),e.jsx("span",{children:"在 GitHub 上给项目点星 (免费支持)"})]}),e.jsxs("div",{className:"option-item clickable",onClick:()=>{l(!0)},children:[e.jsx("span",{className:"option-icon",children:"📝"}),e.jsx("span",{children:"提交功能建议和 Bug 反馈"})]}),e.jsxs("div",{className:"option-item clickable",onClick:async()=>{const e={title:"我的待办清单 - 简洁高效的待办事项管理工具",text:"发现了一个超好用的待办清单应用！界面美观、功能齐全，支持数据导入导出，还有毛玻璃特效🌟 主要特色：精美毛玻璃界面、完美适配移动端、数据导入导出、深色浅色主题、本地存储安全、极速响应流畅",url:window.location.href},s=`${e.title}\n\n${e.text}\n\n🔗 立即体验：${e.url}\n\n✨ 主要特色：\n• 🎨 精美的毛玻璃界面设计\n• 📱 完美适配移动端和桌面端\n• 💾 支持数据导入/导出备份\n• 🌙 深色/浅色主题切换\n• 🔒 本地存储，隐私安全\n• ⚡ 极速响应，操作流畅\n\n#待办清单 #效率工具 #生产力`;try{if(navigator.share){try{return void(await navigator.share(e))}catch(n){if("AbortError"===n.name)return}try{const s=window.location.origin+"/share-image.svg",n=await fetch(s);if(n.ok){const s=await n.blob(),t=new File([s],"todo-app-share.svg",{type:"image/svg+xml"});await navigator.share({...e,files:[t]})}else{const s=window.location.origin+"/favicon.svg",n=await fetch(s);if(n.ok){const s=await n.blob(),t=new File([s],"app-icon.svg",{type:"image/svg+xml"});await navigator.share({...e,files:[t]})}else await navigator.share(e)}}catch(t){if("AbortError"===t.name)return;await navigator.share(e)}}else await navigator.clipboard.writeText(s),i(!0)}catch(a){const e=document.createElement("textarea");e.value=s,e.style.position="fixed",e.style.opacity="0",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),i(!0)}},children:[e.jsx("span",{className:"option-icon",children:"🔗"}),e.jsx("span",{children:"分享给更多需要的朋友"})]})]})]})]})})]}),e.jsx(d,{isOpen:a,title:"分享内容已复制 📋",message:"包含应用介绍和特色功能的完整分享文本已复制到剪贴板！您可以粘贴到任何地方分享给朋友们 ✨",confirmText:"好的",cancelText:null,onConfirm:r,onCancel:r,type:"info"}),e.jsx(P,{isOpen:c,onClose:()=>{l(!1)}})]})}function $({isOpen:n,onClose:t}){const[a,i]=s.useState("config"),c=E();if(!n)return null;const l=e=>{navigator.clipboard.writeText(e).then(()=>{alert("已复制到剪贴板！")})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"feedback-overlay",onClick:e=>{e.target===e.currentTarget&&t()}}),e.jsxs("div",{className:"feedback-manager "+(n?"open":""),children:[e.jsxs("div",{className:"manager-header",children:[e.jsx("h3",{children:"⚙️ 反馈服务配置"}),e.jsx("button",{className:"close-btn",onClick:t,children:e.jsx("span",{className:"close-btn-icon",children:"✕"})})]}),e.jsxs("div",{className:"manager-content",children:[e.jsxs("div",{className:"tabs",children:[e.jsx("button",{className:"tab "+("config"===a?"active":""),onClick:()=>i("config"),children:"📋 配置指南"}),e.jsx("button",{className:"tab "+("status"===a?"active":""),onClick:()=>i("status"),children:"🔍 当前状态"})]}),e.jsxs("div",{className:"tab-content",children:["config"===a&&e.jsxs("div",{className:"config-guide",children:[e.jsxs("div",{className:"service-card",children:[e.jsx("h4",{children:"🌟 推荐：Formspree（免费）"}),e.jsx("p",{children:"免费的表单后端服务，每月50次提交额度"}),e.jsxs("div",{className:"steps",children:[e.jsxs("div",{className:"step",children:[e.jsx("span",{className:"step-number",children:"1"}),e.jsxs("div",{children:[e.jsx("strong",{children:"注册账户："}),e.jsx("a",{href:"https://formspree.io/",target:"_blank",rel:"noopener noreferrer",children:"访问 formspree.io"})]})]}),e.jsxs("div",{className:"step",children:[e.jsx("span",{className:"step-number",children:"2"}),e.jsxs("div",{children:[e.jsx("strong",{children:"创建表单："}),"获取表单ID（类似：xeojabcd）"]})]}),e.jsxs("div",{className:"step",children:[e.jsx("span",{className:"step-number",children:"3"}),e.jsxs("div",{children:[e.jsx("strong",{children:"修改配置："}),"编辑 ",e.jsx("code",{children:"src/config/feedback.js"}),e.jsxs("div",{className:"code-block",children:[e.jsx("pre",{children:"formspree: {\n  enabled: true,\n  endpoint: 'https://formspree.io/f/YOUR_FORM_ID'\n}"}),e.jsx("button",{onClick:()=>l("formspree: {\n  enabled: true,\n  endpoint: 'https://formspree.io/f/YOUR_FORM_ID'\n}"),className:"copy-btn",children:"📋 复制"})]})]})]})]})]}),e.jsxs("div",{className:"service-card",children:[e.jsx("h4",{children:"🚀 Netlify Forms"}),e.jsx("p",{children:"如果您的应用部署在 Netlify 上，可以使用免费的 Netlify Forms"}),e.jsxs("div",{className:"steps",children:[e.jsxs("div",{className:"step",children:[e.jsx("span",{className:"step-number",children:"1"}),e.jsxs("div",{children:[e.jsx("strong",{children:"部署到 Netlify："}),"确保您的应用部署在 Netlify 上"]})]}),e.jsxs("div",{className:"step",children:[e.jsx("span",{className:"step-number",children:"2"}),e.jsxs("div",{children:[e.jsx("strong",{children:"修改配置："}),e.jsxs("div",{className:"code-block",children:[e.jsx("pre",{children:"netlify: {\n  enabled: true,\n  action: '/feedback'\n}"}),e.jsx("button",{onClick:()=>l("netlify: {\n  enabled: true,\n  action: '/feedback'\n}"),className:"copy-btn",children:"📋 复制"})]})]})]})]})]}),e.jsxs("div",{className:"service-card",children:[e.jsx("h4",{children:"📧 邮件降级方案（默认）"}),e.jsx("p",{children:"当其他服务不可用时，自动使用 mailto 链接"}),e.jsx("div",{className:"steps",children:e.jsxs("div",{className:"step",children:[e.jsx("span",{className:"step-number",children:"1"}),e.jsxs("div",{children:[e.jsx("strong",{children:"修改邮箱："}),"编辑配置文件中的邮箱地址",e.jsxs("div",{className:"code-block",children:[e.jsx("pre",{children:"email: {\n  address: 'your-email@example.com',\n  subject: '[待办清单反馈]'\n}"}),e.jsx("button",{onClick:()=>l("email: {\n  address: 'your-email@example.com',\n  subject: '[待办清单反馈]'\n}"),className:"copy-btn",children:"� 复制"})]})]})]})})]}),e.jsxs("div",{className:"service-card",children:[e.jsx("h4",{children:"🔧 自定义 API"}),e.jsx("p",{children:"如果您有自己的后端服务"}),e.jsx("div",{className:"steps",children:e.jsxs("div",{className:"step",children:[e.jsx("span",{className:"step-number",children:"1"}),e.jsxs("div",{children:[e.jsx("strong",{children:"配置端点："}),e.jsxs("div",{className:"code-block",children:[e.jsx("pre",{children:"customAPI: {\n  enabled: true,\n  endpoint: 'https://your-api.com/feedback'\n}"}),e.jsx("button",{onClick:()=>l("customAPI: {\n  enabled: true,\n  endpoint: 'https://your-api.com/feedback'\n}"),className:"copy-btn",children:"📋 复制"})]})]})]})})]})]}),"status"===a&&e.jsxs("div",{className:"status-info",children:[e.jsxs("div",{className:"status-card",children:[e.jsx("h4",{children:"🔍 当前配置状态"}),e.jsxs("div",{className:"status-item",children:[e.jsx("span",{className:"status-label",children:"激活的服务："}),e.jsxs("span",{className:`status-value ${c.type}`,children:["formspree"===c.type&&"🌟 Formspree","netlify"===c.type&&"🚀 Netlify Forms","customAPI"===c.type&&"� 自定义 API","email"===c.type&&"� 邮件降级"]})]}),"formspree"===c.type&&e.jsxs("div",{className:"status-item",children:[e.jsx("span",{className:"status-label",children:"端点："}),e.jsx("span",{className:"status-value",children:c.config.endpoint})]}),"email"===c.type&&e.jsxs("div",{className:"status-item",children:[e.jsx("span",{className:"status-label",children:"邮箱："}),e.jsx("span",{className:"status-value",children:c.config.address})]})]}),e.jsxs("div",{className:"status-card",children:[e.jsx("h4",{children:"📊 服务状态检查"}),e.jsxs("div",{className:"service-status",children:[e.jsxs("div",{className:"service-item",children:[e.jsx("span",{className:"service-name",children:"Formspree"}),e.jsx("span",{className:"service-indicator "+(k.formspree.enabled?"enabled":"disabled"),children:k.formspree.enabled?"✅ 已启用":"⭕ 未启用"})]}),e.jsxs("div",{className:"service-item",children:[e.jsx("span",{className:"service-name",children:"Netlify Forms"}),e.jsx("span",{className:"service-indicator "+(k.netlify.enabled?"enabled":"disabled"),children:k.netlify.enabled?"✅ 已启用":"⭕ 未启用"})]}),e.jsxs("div",{className:"service-item",children:[e.jsx("span",{className:"service-name",children:"自定义 API"}),e.jsx("span",{className:"service-indicator "+(k.customAPI.enabled?"enabled":"disabled"),children:k.customAPI.enabled?"✅ 已启用":"⭕ 未启用"})]}),e.jsxs("div",{className:"service-item",children:[e.jsx("span",{className:"service-name",children:"邮件降级"}),e.jsx("span",{className:"service-indicator enabled",children:"✅ 始终可用"})]})]})]}),e.jsxs("div",{className:"status-card",children:[e.jsx("h4",{children:"🔗 管理链接"}),e.jsx("p",{children:"管理员可以通过以下链接访问此配置页面："}),e.jsx("div",{className:"management-links",children:e.jsxs("div",{className:"link-item",children:[e.jsxs("code",{children:[window.location.origin,"?admin=feedback"]}),e.jsx("button",{onClick:()=>l(`${window.location.origin}?admin=feedback`),className:"copy-btn small",children:"📋"})]})})]})]})]})]})]})]})}export{w as A,d as C,A as D,$ as F,a as O,v as P,t as S,l as a,r as b,c,n as d,o as e,g as f,P as g,O as u};
