# è·¨å¹³å°PWAå›¾æ ‡ä¼˜åŒ–å®Œæ•´æ–¹æ¡ˆ

## ğŸ¯ é—®é¢˜è§£å†³

**åŸé—®é¢˜**ï¼šiOSå’ŒAndroidè®¾å¤‡æ·»åŠ PWAåˆ°ä¸»å±å¹•æ—¶ï¼Œåº”ç”¨å›¾æ ‡æ˜¾ç¤ºä¸æ­£ç¡®ã€‚

**å®Œæ•´è§£å†³æ–¹æ¡ˆ**ï¼šä¸ºiOSå’ŒAndroidå¹³å°åˆ†åˆ«é…ç½®äº†ä¸“é—¨çš„PWAå›¾æ ‡ç³»ç»Ÿå’Œä¼˜åŒ–é…ç½®ã€‚

## ğŸ“± iOS PWAä¼˜åŒ–

### iOSå›¾æ ‡é…ç½®
- **12ä¸ªä¸åŒå°ºå¯¸**ï¼šè¦†ç›–iPhone/iPadæ‰€æœ‰è®¾å¤‡
- **apple-touch-icon**ï¼šå®Œæ•´çš„iOSä¸“ç”¨å›¾æ ‡é“¾æ¥
- **iOSä¸“ç”¨metaæ ‡ç­¾**ï¼šä¼˜åŒ–iOS PWAä½“éªŒ

### iOSå›¾æ ‡åˆ—è¡¨
| å°ºå¯¸ | è®¾å¤‡ | æ–‡ä»¶å |
|------|------|--------|
| 57x57 | iPhone (iOS 6-) | apple-touch-icon-57x57.svg |
| 60x60 | iPhone (iOS 7+) | apple-touch-icon-60x60.svg |
| 72x72 | iPad (iOS 6-) | apple-touch-icon-72x72.svg |
| 76x76 | iPad (iOS 7+) | apple-touch-icon-76x76.svg |
| 114x114 | iPhone Retina (iOS 6-) | apple-touch-icon-114x114.svg |
| 120x120 | iPhone Retina (iOS 7+) | apple-touch-icon-120x120.svg |
| 144x144 | iPad Retina (iOS 6-) | apple-touch-icon-144x144.svg |
| 152x152 | iPad Retina (iOS 7+) | apple-touch-icon-152x152.svg |
| 167x167 | iPad Pro | apple-touch-icon-167x167.svg |
| 180x180 | iPhone 6 Plus+ | apple-touch-icon-180x180.svg |

## ğŸ¤– Android PWAä¼˜åŒ–

### Androidå›¾æ ‡é…ç½®
- **9ä¸ªæ ‡å‡†å°ºå¯¸**ï¼šè¦†ç›–Androidæ‰€æœ‰å¯†åº¦
- **2ä¸ªMaskableå›¾æ ‡**ï¼šæ”¯æŒAndroidè‡ªé€‚åº”å›¾æ ‡
- **Androidä¸“ç”¨metaæ ‡ç­¾**ï¼šä¼˜åŒ–Android Chromeä½“éªŒ

### Androidæ ‡å‡†å›¾æ ‡åˆ—è¡¨
| å°ºå¯¸ | å¯†åº¦ | è®¾å¤‡ç±»å‹ | æ–‡ä»¶å |
|------|------|----------|--------|
| 36x36 | LDPI (0.75x) | ä½å¯†åº¦ | android-chrome-36x36.svg |
| 48x48 | MDPI (1.0x) | ä¸­å¯†åº¦ | android-chrome-48x48.svg |
| 72x72 | HDPI (1.5x) | é«˜å¯†åº¦ | android-chrome-72x72.svg |
| 96x96 | XHDPI (2.0x) | è¶…é«˜å¯†åº¦ | android-chrome-96x96.svg |
| 144x144 | XXHDPI (3.0x) | è¶…è¶…é«˜å¯†åº¦ | android-chrome-144x144.svg |
| 192x192 | XXXHDPI (4.0x) | è¶…è¶…è¶…é«˜å¯†åº¦ | android-chrome-192x192.svg |
| 256x256 | - | é«˜åˆ†è¾¨ç‡ | android-chrome-256x256.svg |
| 384x384 | - | è¶…é«˜åˆ†è¾¨ç‡ | android-chrome-384x384.svg |
| 512x512 | - | æœ€é«˜åˆ†è¾¨ç‡ | android-chrome-512x512.svg |

### Android Maskableå›¾æ ‡
| å°ºå¯¸ | ç”¨é€” | æ–‡ä»¶å |
|------|------|--------|
| 192x192 | æ ‡å‡†è‡ªé€‚åº” | maskable-icon-192x192.svg |
| 512x512 | å¤§å°ºå¯¸è‡ªé€‚åº” | maskable-icon-512x512.svg |

## ğŸ”§ æŠ€æœ¯å®ç°

### å›¾æ ‡ç”Ÿæˆé€»è¾‘

**âœ… ç°åœ¨æ‰€æœ‰å›¾æ ‡éƒ½åŸºäº `public/todo-icon.svg` ç”Ÿæˆ**

1. **iOSå›¾æ ‡ç”Ÿæˆ**ï¼š
   - è¯»å– `public/todo-icon.svg` ä½œä¸ºåŸºç¡€æ¨¡æ¿
   - æ ¹æ®ç›®æ ‡å°ºå¯¸è°ƒæ•´viewBoxå’Œå°ºå¯¸å±æ€§
   - ä½¿ç”¨transform scaleè¿›è¡Œç¼©æ”¾
   - ä¿æŒåŸå§‹è®¾è®¡çš„æ‰€æœ‰ç»†èŠ‚å’Œé¢œè‰²

2. **Androidæ ‡å‡†å›¾æ ‡ç”Ÿæˆ**ï¼š
   - åŒæ ·åŸºäº `public/todo-icon.svg`
   - æ”¯æŒå„ç§Androidå¯†åº¦è¦æ±‚
   - ä¿æŒå›¾æ ‡çš„æ¸…æ™°åº¦å’Œä¸€è‡´æ€§

3. **Android Maskableå›¾æ ‡ç”Ÿæˆ**ï¼š
   - åŸºäº `public/todo-icon.svg`
   - æ·»åŠ å…¨å°ºå¯¸èƒŒæ™¯ä»¥æ”¯æŒè‡ªé€‚åº”è£å‰ª
   - å°†ä¸»è¦å†…å®¹ç¼©æ”¾åˆ°å®‰å…¨åŒºåŸŸï¼ˆä¸­å¿ƒ80%ï¼‰
   - ç¡®ä¿åœ¨ä»»ä½•å½¢çŠ¶ä¸‹éƒ½èƒ½æ­£ç¡®æ˜¾ç¤º

### ä¼˜åŠ¿

- **ä¸€è‡´æ€§**ï¼šæ‰€æœ‰å¹³å°å›¾æ ‡éƒ½æ¥è‡ªåŒä¸€ä¸ªæºæ–‡ä»¶
- **å¯ç»´æŠ¤æ€§**ï¼šåªéœ€ä¿®æ”¹ `public/todo-icon.svg` å³å¯æ›´æ–°æ‰€æœ‰å›¾æ ‡
- **è‡ªåŠ¨åŒ–**ï¼šé€šè¿‡è„šæœ¬è‡ªåŠ¨ç”Ÿæˆæ‰€æœ‰å°ºå¯¸å’Œæ ¼å¼
- **è´¨é‡ä¿è¯**ï¼šä¿æŒçŸ¢é‡å›¾æ ‡çš„æ¸…æ™°åº¦å’Œç»†èŠ‚

## ğŸ”§ é…ç½®å®ç°

### HTMLé…ç½®ä¼˜åŒ–

```html
<!-- iOS PWA ä¸“ç”¨é…ç½® -->
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="default" />
<meta name="apple-mobile-web-app-title" content="å¾…åŠæ¸…å•" />
<meta name="apple-touch-fullscreen" content="yes" />

<!-- iOS å›¾æ ‡é…ç½® -->
<link rel="apple-touch-icon" sizes="180x180" href="./icons/apple-touch-icon-180x180.svg" />
<!-- ... å…¶ä»–iOSå°ºå¯¸ ... -->

<!-- Android PWA ä¸“ç”¨é…ç½® -->
<meta name="mobile-web-app-capable" content="yes" />
<meta name="mobile-web-app-title" content="å¾…åŠæ¸…å•" />
<meta name="theme-color" content="#667eea" />

<!-- Android å›¾æ ‡é“¾æ¥ -->
<link rel="icon" sizes="192x192" href="./icons/android-chrome-192x192.svg" />
<link rel="shortcut icon" href="./icons/android-chrome-192x192.svg" />
```

### Manifest.jsonä¼˜åŒ–

```json
{
  "icons": [
    // iOSå›¾æ ‡
    {
      "src": "./icons/apple-touch-icon-180x180.svg",
      "sizes": "180x180",
      "type": "image/svg+xml",
      "purpose": "any"
    },
    // Androidæ ‡å‡†å›¾æ ‡
    {
      "src": "./icons/android-chrome-192x192.svg",
      "sizes": "192x192",
      "type": "image/svg+xml",
      "purpose": "any",
      "density": "4.0"
    },
    // Android Maskableå›¾æ ‡
    {
      "src": "./icons/maskable-icon-192x192.svg",
      "sizes": "192x192",
      "type": "image/svg+xml",
      "purpose": "maskable"
    }
  ],
  "display": "standalone",
  "theme_color": "#667eea",
  "background_color": "#667eea"
}
```

## ğŸ› ï¸ è‡ªåŠ¨åŒ–å·¥å…·

### NPMè„šæœ¬å‘½ä»¤

```json
{
  "scripts": {
    // iOSç›¸å…³
    "generate-icons": "node scripts/generate-ios-icons.js",
    "update-ios-config": "node scripts/update-ios-config.js",
    "setup-ios-pwa": "npm run generate-icons && npm run update-ios-config",
    
    // Androidç›¸å…³
    "generate-android-icons": "node scripts/generate-android-icons.js",
    "update-android-config": "node scripts/update-android-config.js",
    "setup-android-pwa": "npm run generate-android-icons && npm run update-android-config",
    
    // å…¨å¹³å°
    "setup-all-pwa": "npm run setup-ios-pwa && npm run setup-android-pwa"
  }
}
```

### ç”Ÿæˆè„šæœ¬åŠŸèƒ½

1. **generate-ios-icons.js**: ç”ŸæˆiOSæ‰€éœ€çš„12ä¸ªå°ºå¯¸å›¾æ ‡
2. **generate-android-icons.js**: ç”ŸæˆAndroidæ‰€éœ€çš„11ä¸ªå›¾æ ‡ï¼ˆ9ä¸ªæ ‡å‡†+2ä¸ªmaskableï¼‰
3. **update-ios-config.js**: æ›´æ–°HTMLå’Œmanifestçš„iOSé…ç½®
4. **update-android-config.js**: æ›´æ–°HTMLå’Œmanifestçš„Androidé…ç½®

## ğŸ“± å®‰è£…æµ‹è¯•

### iOSæµ‹è¯•æ­¥éª¤
1. åœ¨iOS Safariä¸­è®¿é—®åº”ç”¨
2. ç‚¹å‡»åˆ†äº«æŒ‰é’® â†’ "æ·»åŠ åˆ°ä¸»å±å¹•"
3. ç¡®è®¤åº”ç”¨åç§°å’Œå›¾æ ‡
4. æ£€æŸ¥ä¸»å±å¹•å›¾æ ‡æ˜¾ç¤º

### Androidæµ‹è¯•æ­¥éª¤
1. åœ¨Android Chromeä¸­è®¿é—®åº”ç”¨
2. æŸ¥çœ‹"æ·»åŠ åˆ°ä¸»å±å¹•"æ¨ªå¹…æˆ–èœå•é€‰é¡¹
3. ç¡®è®¤å®‰è£…å¹¶æ£€æŸ¥å›¾æ ‡
4. æµ‹è¯•è‡ªé€‚åº”å›¾æ ‡åœ¨ä¸åŒä¸»é¢˜ä¸‹çš„æ˜¾ç¤º

## ğŸ¯ é¢„æœŸæ•ˆæœ

### iOSè®¾å¤‡
- âœ… **æ­£ç¡®çš„åº”ç”¨å›¾æ ‡**ï¼šæ˜¾ç¤ºè®¾è®¡çš„å¾…åŠæ¸…å•å›¾æ ‡
- âœ… **é€‚é…æ‰€æœ‰è®¾å¤‡**ï¼šiPhone/iPadå„ç§å°ºå¯¸å®Œç¾æ˜¾ç¤º
- âœ… **ç‹¬ç«‹åº”ç”¨ä½“éªŒ**ï¼šå…¨å±è¿è¡Œï¼Œæ— Safariç•Œé¢
- âœ… **å¿«é€Ÿå¯åŠ¨**ï¼šä»ä¸»å±å¹•ç›´æ¥å¯åŠ¨

### Androidè®¾å¤‡
- âœ… **æ­£ç¡®çš„åº”ç”¨å›¾æ ‡**ï¼šæ˜¾ç¤ºè®¾è®¡çš„å¾…åŠæ¸…å•å›¾æ ‡
- âœ… **è‡ªé€‚åº”å›¾æ ‡æ”¯æŒ**ï¼šæ ¹æ®ç³»ç»Ÿä¸»é¢˜è‡ªåŠ¨é€‚é…å½¢çŠ¶
- âœ… **å¤šå¯†åº¦æ”¯æŒ**ï¼šåœ¨å„ç§Androidè®¾å¤‡ä¸Šæ¸…æ™°æ˜¾ç¤º
- âœ… **åŸç”Ÿåº”ç”¨ä½“éªŒ**ï¼šç‹¬ç«‹çª—å£ï¼Œç³»ç»Ÿé›†æˆ

## ğŸ“Š å…¼å®¹æ€§æ”¯æŒ

| å¹³å° | æœ€ä½ç‰ˆæœ¬ | å›¾æ ‡æ”¯æŒ | è‡ªé€‚åº”å›¾æ ‡ |
|------|----------|----------|------------|
| iOS Safari | 11.0+ | âœ… å®Œæ•´æ”¯æŒ | âŒ ä¸æ”¯æŒ |
| Android Chrome | 76+ | âœ… å®Œæ•´æ”¯æŒ | âœ… æ”¯æŒ |
| Android Firefox | 85+ | âœ… æ”¯æŒ | âŒ ä¸æ”¯æŒ |
| Android Edge | 79+ | âœ… æ”¯æŒ | âœ… æ”¯æŒ |

## ğŸš€ éƒ¨ç½²è¯´æ˜

ä¼˜åŒ–å®Œæˆåï¼Œæ‰§è¡Œ `npm run release:patch` å³å¯éƒ¨ç½²åŒ…å«å®Œæ•´PWAå›¾æ ‡ä¼˜åŒ–çš„ç‰ˆæœ¬ã€‚

---

**ä¼˜åŒ–å®Œæˆæ—¶é—´**: ${new Date().toLocaleString('zh-CN')}
**æ”¯æŒå¹³å°**: iOS 11.0+ / Android 5.0+
**å›¾æ ‡æ€»æ•°**: 23ä¸ªï¼ˆiOS: 12ä¸ªï¼ŒAndroid: 11ä¸ªï¼‰
